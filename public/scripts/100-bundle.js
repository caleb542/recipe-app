/*! For license information please see 100-bundle.js.LICENSE.txt */
export const __webpack_esm_id__=100;export const __webpack_esm_ids__=[100];export const __webpack_esm_modules__={4077:(t,n,e)=>{function r(){var t,n,e="function"==typeof Symbol?Symbol:{},o=e.iterator||"@@iterator",i=e.toStringTag||"@@toStringTag";function u(e,r,o,i){var u=r&&r.prototype instanceof s?r:s,l=Object.create(u.prototype);return a(l,"_invoke",function(e,r,a){var o,i,u,s=0,l=a||[],d=!1,f={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(n,e){return o=n,i=0,u=t,f.n=e,c}};function p(e,r){for(i=e,u=r,n=0;!d&&s&&!a&&n<l.length;n++){var a,o=l[n],p=f.p,m=o[2];e>3?(a=m===r)&&(u=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=t):o[0]<=p&&((a=e<2&&p<o[1])?(i=0,f.v=r,f.n=o[1]):p<m&&(a=e<3||o[0]>r||r>m)&&(o[4]=e,o[5]=r,f.n=m,i=0))}if(a||e>1)return c;throw d=!0,r}return function(a,l,m){if(s>1)throw TypeError("Generator is already running");for(d&&1===l&&p(l,m),i=l,u=m;(n=i<2?t:u)||!d;){o||(i?i<3?(i>1&&(f.n=-1),p(i,u)):f.n=u:f.v=u);try{if(s=2,o){if(i||(a="next"),n=o[a]){if(!(n=n.call(o,u)))throw TypeError("iterator result is not an object");if(!n.done)return n;u=n.value,i<2&&(i=0)}else 1===i&&(n=o.return)&&n.call(o),i<2&&(u=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=t}else if((n=(d=f.n<0)?u:e.call(r,f))!==c)break}catch(n){o=t,i=1,u=n}finally{s=1}}return{value:n,done:d}}}(e,o,i),!0),l}var c={};function s(){}function l(){}function d(){}n=Object.getPrototypeOf;var f=[][o]?n(n([][o]())):(a(n={},o,function(){return this}),n),p=d.prototype=s.prototype=Object.create(f);function m(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,a(t,i,"GeneratorFunction")),t.prototype=Object.create(p),t}return l.prototype=d,a(p,"constructor",d),a(d,"constructor",l),l.displayName="GeneratorFunction",a(d,i,"GeneratorFunction"),a(p),a(p,i,"Generator"),a(p,o,function(){return this}),a(p,"toString",function(){return"[object Generator]"}),(r=function(){return{w:u,m}})()}function a(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}a=function(t,n,e,r){function i(n,e){a(t,n,function(t){return this._invoke(n,e,t)})}n?o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e:(i("next",0),i("throw",1),i("return",2))},a(t,n,e,r)}function o(t,n,e,r,a,o,i){try{var u=t[o](i),c=u.value}catch(t){return void e(t)}u.done?n(c):Promise.resolve(c).then(r,a)}function i(t){return u.apply(this,arguments)}function u(){var t;return t=r().m(function t(n){var e,a,o,i,u,c,s,l,d,f=arguments;return r().w(function(t){for(;;)if(0===t.n)return a=(e=f.length>1&&void 0!==f[1]?f[1]:{}).maxWidth,o=void 0===a?1600:a,i=e.maxHeight,u=void 0===i?1600:i,c=e.quality,s=void 0===c?.85:c,l=e.format,d=void 0===l?"image/jpeg":l,t.a(2,new Promise(function(t,e){var r=new FileReader;r.onload=function(r){var a=new Image;a.onload=function(){var r=a.width,i=a.height;if(r>o||i>u){var c=Math.min(o/r,u/i);r=Math.round(r*c),i=Math.round(i*c)}var l=document.createElement("canvas");l.width=r,l.height=i;var f=l.getContext("2d");f.imageSmoothingEnabled=!0,f.imageSmoothingQuality="high",f.drawImage(a,0,0,r,i),l.toBlob(function(r){r?(console.log("âœ… Optimized: ".concat((n.size/1024).toFixed(0),"KB â†’ ").concat((r.size/1024).toFixed(0),"KB")),t(r)):e(new Error("Failed to optimize image"))},d,s)},a.onerror=function(){return e(new Error("Failed to load image"))},a.src=r.target.result},r.onerror=function(){return e(new Error("Failed to read file"))},r.readAsDataURL(n)}))},t)}),u=function(){var n=this,e=arguments;return new Promise(function(r,a){var i=t.apply(n,e);function u(t){o(i,r,a,u,c,"next",t)}function c(t){o(i,r,a,u,c,"throw",t)}u(void 0)})},u.apply(this,arguments)}e.d(n,{J:()=>c,P:()=>i});var c={avatar:{maxWidth:400,maxHeight:400,quality:.9,format:"image/jpeg"},recipeHero:{maxWidth:1600,maxHeight:1600,quality:.85,format:"image/jpeg"},recipeThumbnail:{maxWidth:800,maxHeight:800,quality:.8,format:"image/jpeg"}}},4100:(t,n,e)=>{e.a(t,async(t,r)=>{try{e.r(n),e.d(n,{addUnsplashImage:()=>w,renderImageGallery:()=>E,setupImageGallery:()=>y});var a=e(4011),o=e(9262),i=e(4077),u=t([o]),c=u.then?(await u)():u;function s(t){return p(t)||f(t)||d(t)||l()}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(t,n){if(t){if("string"==typeof t)return m(t,n);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?m(t,n):void 0}}function f(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function p(t){if(Array.isArray(t))return m(t)}function m(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=Array(n);e<n;e++)r[e]=t[e];return r}function g(){var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",a=e.toStringTag||"@@toStringTag";function o(e,r,a,o){var c=r&&r.prototype instanceof u?r:u,s=Object.create(c.prototype);return h(s,"_invoke",function(e,r,a){var o,u,c,s=0,l=a||[],d=!1,f={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(n,e){return o=n,u=0,c=t,f.n=e,i}};function p(e,r){for(u=e,c=r,n=0;!d&&s&&!a&&n<l.length;n++){var a,o=l[n],p=f.p,m=o[2];e>3?(a=m===r)&&(c=o[(u=o[4])?5:(u=3,3)],o[4]=o[5]=t):o[0]<=p&&((a=e<2&&p<o[1])?(u=0,f.v=r,f.n=o[1]):p<m&&(a=e<3||o[0]>r||r>m)&&(o[4]=e,o[5]=r,f.n=m,u=0))}if(a||e>1)return i;throw d=!0,r}return function(a,l,m){if(s>1)throw TypeError("Generator is already running");for(d&&1===l&&p(l,m),u=l,c=m;(n=u<2?t:c)||!d;){o||(u?u<3?(u>1&&(f.n=-1),p(u,c)):f.n=c:f.v=c);try{if(s=2,o){if(u||(a="next"),n=o[a]){if(!(n=n.call(o,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,u<2&&(u=0)}else 1===u&&(n=o.return)&&n.call(o),u<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),u=1);o=t}else if((n=(d=f.n<0)?c:e.call(r,f))!==i)break}catch(n){o=t,u=1,c=n}finally{s=1}}return{value:n,done:d}}}(e,a,o),!0),s}var i={};function u(){}function c(){}function s(){}n=Object.getPrototypeOf;var l=[][r]?n(n([][r]())):(h(n={},r,function(){return this}),n),d=s.prototype=u.prototype=Object.create(l);function f(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,h(t,a,"GeneratorFunction")),t.prototype=Object.create(d),t}return c.prototype=s,h(d,"constructor",s),h(s,"constructor",c),c.displayName="GeneratorFunction",h(s,a,"GeneratorFunction"),h(d),h(d,a,"Generator"),h(d,r,function(){return this}),h(d,"toString",function(){return"[object Generator]"}),(g=function(){return{w:o,m:f}})()}function h(t,n,e,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}h=function(t,n,e,r){function o(n,e){h(t,n,function(t){return this._invoke(n,e,t)})}n?a?a(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e:(o("next",0),o("throw",1),o("return",2))},h(t,n,e,r)}function v(t,n,e,r,a,o,i){try{var u=t[o](i),c=u.value}catch(t){return void e(t)}u.done?n(c):Promise.resolve(c).then(r,a)}function b(t){return function(){var n=this,e=arguments;return new Promise(function(r,a){var o=t.apply(n,e);function i(t){v(o,r,a,i,u,"next",t)}function u(t){v(o,r,a,i,u,"throw",t)}i(void 0)})}}function y(t){var n=document.getElementById("cloudinary-upload");n?(n.addEventListener("change",function(){var e=b(g().m(function e(r){var a,o,u,c,s,l,d,f,p;return g().w(function(e){for(;;)switch(e.p=e.n){case 0:if(a=r.target.files[0]){e.n=1;break}return e.a(2);case 1:if(!a.type.startsWith("video/")){e.n=2;break}return q("âŒ Video files not supported. Please upload to YouTube and paste the link instead.","error"),n.value="",e.a(2);case 2:if(a.type.startsWith("image/")){e.n=3;break}return q("Please select an image file","error"),n.value="",e.a(2);case 3:if(!(a.size>20971520)){e.n=4;break}return q("Image must be smaller than 20MB","error"),e.a(2);case 4:return e.p=4,q("Optimizing ".concat((a.size/1024/1024).toFixed(1),"MB image..."),"uploading"),e.n=5,(0,i.P)(a,i.J.recipeHero);case 5:return o=e.v,u=(a.size/1024).toFixed(0),c=(o.size/1024).toFixed(0),s=Math.round(100*(1-o.size/a.size)),console.log("ðŸ“‰ Size reduction: ".concat(u,"KB â†’ ").concat(c,"KB (").concat(s,"% smaller)")),q("Uploading optimized image...","uploading"),e.n=6,I(o,a.name);case 6:return l=e.v,d=l.url,f=l.publicId,e.n=7,_(t,{url:d,source:"user-upload",cloudinaryPublicId:f,attribution:null,metadata:{uploadedAt:(new Date).toISOString(),originalFilename:a.name,originalSize:a.size,optimizedSize:o.size}});case 7:return e.n=8,E(t);case 8:q("âœ“ Image added! (Saved ".concat(s,"% bandwidth)"),"success"),n.value="",e.n=10;break;case 9:e.p=9,p=e.v,console.error("Upload failed:",p),q("âœ— Upload failed: ".concat(p.message),"error");case 10:return e.a(2)}},e,null,[[4,9]])}));return function(t){return e.apply(this,arguments)}}()),E(t)):console.warn("Image upload input not found")}function w(t,n){return S.apply(this,arguments)}function S(){return(S=b(g().m(function t(n,e){return g().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,_(n,{url:e.url,source:"unsplash",cloudinaryPublicId:null,attribution:{photographer:e.photographer,photographerUrl:e.photographerLink,requiresAttribution:!0,canEdit:!1}});case 1:return t.n=2,E(n);case 2:return t.a(2)}},t)}))).apply(this,arguments)}function I(t){return k.apply(this,arguments)}function k(){return k=b(g().m(function t(n){var e,r,a,o,i,u,c,s=arguments;return g().w(function(t){for(;;)switch(t.n){case 0:return e=s.length>1&&void 0!==s[1]?s[1]:"image.jpg",r=new FormData,n instanceof Blob&&!(n instanceof File)?(a=new File([n],e,{type:n.type}),r.append("file",a)):r.append("file",n),r.append("upload_preset","recipe_images"),r.append("folder","recipes"),t.n=1,fetch("https://api.cloudinary.com/v1_1/".concat("day1f5nz8","/image/upload"),{method:"POST",body:r});case 1:if((o=t.v).ok){t.n=3;break}return t.n=2,o.json();case 2:throw u=t.v,new Error((null===(i=u.error)||void 0===i?void 0:i.message)||"Upload failed");case 3:return t.n=4,o.json();case 4:return c=t.v,t.a(2,{url:c.secure_url.replace("/upload/","/upload/q_auto,f_auto/"),publicId:c.public_id})}},t)})),k.apply(this,arguments)}function _(t,n){return O.apply(this,arguments)}function O(){return(O=b(g().m(function t(n,e){var r,i,u;return g().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,(0,o.Q5)();case 1:if(r=t.v,i=r.find(function(t){return t.id===n})){t.n=2;break}return t.a(2);case 2:i.images||(i.images=[]),u={id:(0,a.A)(),url:e.url,source:e.source,isFeatured:0===i.images.length,order:i.images.length,cloudinaryPublicId:e.cloudinaryPublicId||null,attribution:e.attribution||null,metadata:e.metadata||null},i.images.push(u),i.updatedAt=(new Date).toISOString(),(0,o.Jp)(r),localStorage.setItem("editingRecipe",JSON.stringify(i));case 3:return t.a(2)}},t)}))).apply(this,arguments)}function E(t){return F.apply(this,arguments)}function F(){return(F=b(g().m(function t(n){var e,r,a,i,u;return g().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,(0,o.Q5)();case 1:if(e=t.v,r=e.find(function(t){return t.id===n}),a=document.getElementById("image-gallery"),i=null==a?void 0:a.querySelector(".no-images"),r&&a){t.n=2;break}return t.a(2);case 2:if(r.images&&0!==r.images.length){t.n=3;break}return i&&(i.style.display="block"),a.innerHTML='<p class="no-images">No images yet. Upload or search to add images.</p>',t.a(2);case 3:i&&(i.style.display="none"),u=s(r.images).sort(function(t,n){return t.order-n.order}),a.innerHTML="\n    ".concat(u.map(function(t){return'\n      <div class="image-card" data-image-id="'.concat(t.id,'" draggable="true">\n        <div class="image-preview">\n          <img src="').concat(t.url,'" alt="Recipe image">\n          ').concat(t.isFeatured?'<div class="featured-badge"><i class="fa-solid fa-star"></i> Featured</div>':"","\n          \n          ").concat("unsplash"===t.source?'\n            <div class="source-badge unsplash-badge" title="From Unsplash">\n              <i class="fa-solid fa-image"></i> Unsplash\n            </div>\n          ':t.attribution?'\n            <div class="source-badge attribution-badge" title="'.concat(P(t),'">\n              <i class="fa-solid fa-copyright"></i> Credit\n            </div>\n          '):"",'\n        </div>\n        \n        <div class="image-actions">\n          <button \n            class="btn-small ').concat(t.isFeatured?"active":"",'" \n            onclick="window.setFeaturedImage(\'').concat(n,"', '").concat(t.id,'\')"\n            title="Set as featured image"\n          >\n            <i class="fa-solid fa-star"></i>\n          </button>\n          \n          <button \n            class="btn-small" \n            onclick="window.moveImageUp(\'').concat(n,"', '").concat(t.id,'\')"\n            title="Move up"\n            ').concat(0===t.order?"disabled":"",'\n          >\n            <i class="fa-solid fa-arrow-up"></i>\n          </button>\n          \n          <button \n            class="btn-small" \n            onclick="window.moveImageDown(\'').concat(n,"', '").concat(t.id,'\')"\n            title="Move down"\n            ').concat(t.order===u.length-1?"disabled":"",'\n          >\n            <i class="fa-solid fa-arrow-down"></i>\n          </button>\n          \n          <button \n            class="btn-small ').concat(t.attribution?"has-attribution":"",'" \n            onclick="window.editAttribution(\'').concat(n,"', '").concat(t.id,'\')"\n            title="').concat("unsplash"===t.source?"Unsplash attribution (required)":t.attribution?"Edit attribution":"Add attribution",'"\n            ').concat("unsplash"===t.source?"disabled":"",'\n          >\n            <i class="fa-solid fa-').concat("unsplash"===t.source?"lock":"copyright",'"></i>\n          </button>\n          \n          <button \n            class="btn-small btn-danger" \n            onclick="window.removeImage(\'').concat(n,"', '").concat(t.id,'\')"\n            title="Remove image"\n          >\n            <i class="fa-solid fa-trash"></i>\n          </button>\n        </div>\n        \n        ').concat("unsplash"===t.source||t.attribution?'\n          <div class="image-credit '.concat("unsplash"===t.source?"unsplash-credit":"",'">\n            ').concat(A(t),"\n          </div>\n        "):"","\n      </div>\n    ")}).join(""),"\n  "),x(n);case 4:return t.a(2)}},t)}))).apply(this,arguments)}function A(t){if(!t.attribution)return"";var n=t.attribution;if("unsplash"===t.source)return'Photo by <a href="'.concat(n.photographerUrl,'" target="_blank" rel="noopener">').concat(n.photographer,'</a> on <a href="https://unsplash.com/?utm_source=recipe_me&utm_medium=referral" target="_blank" rel="noopener">Unsplash</a>');if(n.customCredit)return n.customCredit;var e="Photo by ".concat(n.photographer);return n.photographerUrl&&(e='<a href="'.concat(n.photographerUrl,'" target="_blank" rel="noopener">').concat(e,"</a>")),e}function P(t){if(!t.attribution)return"";var n=t.attribution;return"unsplash"===t.source?"Photo by ".concat(n.photographer," on Unsplash"):n.customCredit?n.customCredit:"Photo by ".concat(n.photographer)}function j(t){return new Promise(function(n){var e=document.createElement("dialog");e.className="attribution-dialog modal-dialog";var r=t&&t.photographer;e.innerHTML='\n      <form id="attribution-form">\n        <h3>'.concat(r?"Edit":"Add",' Image Attribution</h3>\n        <p class="hint">Optional - add credit if this photo is from a photographer or requires attribution.</p>\n        \n        <div class="form-group">\n          <label for="photographer-name">Photographer/Source Name:</label>\n          <input \n            type="text" \n            id="photographer-name" \n            placeholder="e.g., Jane Smith Photography"\n            value="').concat((null==t?void 0:t.photographer)||"",'"\n          >\n        </div>\n        \n        <div class="form-group">\n          <label for="photographer-url">Website/URL (optional):</label>\n          <input \n            type="url" \n            id="photographer-url" \n            placeholder="https://janesmith.com"\n            value="').concat((null==t?void 0:t.photographerUrl)||"",'"\n          >\n        </div>\n        \n        <div class="form-group">\n          <label for="custom-credit">Custom Credit Line (optional):</label>\n          <input \n            type="text" \n            id="custom-credit" \n            placeholder="e.g., Photography by Jane Smith"\n            value="').concat((null==t?void 0:t.customCredit)||"",'"\n          >\n          <small>If blank, will auto-generate from photographer name</small>\n        </div>\n        \n        <div class="button-group">\n          ').concat(r?'\n            <button type="button" id="remove-attribution-btn" class="btn-secondary">\n              Remove Attribution\n            </button>\n          ':"",'\n          <button type="button" id="cancel-btn" class="btn-secondary">\n            Cancel\n          </button>\n          <button type="submit" class="btn-primary">\n            Save\n          </button>\n        </div>\n      </form>\n    '),document.body.appendChild(e),e.showModal();var a=e.querySelector("#attribution-form"),o=e.querySelector("#photographer-name"),i=e.querySelector("#photographer-url"),u=e.querySelector("#custom-credit"),c=e.querySelector("#cancel-btn"),s=e.querySelector("#remove-attribution-btn");o.focus(),c.addEventListener("click",function(){e.close(),e.remove(),n(void 0)}),s&&s.addEventListener("click",function(){confirm("Remove attribution from this image?")&&(e.close(),e.remove(),n(null))}),e.addEventListener("click",function(t){t.target===e&&(e.close(),e.remove(),n(void 0))}),a.addEventListener("submit",function(t){t.preventDefault();var r=o.value.trim(),a=i.value.trim(),c=u.value.trim();if(!r)return e.close(),e.remove(),void n(null);var s={photographer:r,photographerUrl:a||null,customCredit:c||null,requiresAttribution:!0,canEdit:!0};e.close(),e.remove(),n(s)})})}function x(t){var n=document.querySelectorAll(".image-card"),e=null;n.forEach(function(n){n.addEventListener("dragstart",function(t){e=n,n.classList.add("dragging")}),n.addEventListener("dragend",function(){n.classList.remove("dragging")}),n.addEventListener("dragover",function(t){t.preventDefault();var r,a,o=(r=n.parentElement,a=t.clientY,s(r.querySelectorAll(".image-card:not(.dragging)")).reduce(function(t,n){var e=n.getBoundingClientRect(),r=a-e.top-e.height/2;return r<0&&r>t.offset?{offset:r,element:n}:t},{offset:Number.NEGATIVE_INFINITY}).element);null==o?n.parentElement.appendChild(e):n.parentElement.insertBefore(e,o)}),n.addEventListener("drop",function(){var n=b(g().m(function n(e){return g().w(function(n){for(;;)switch(n.n){case 0:return e.preventDefault(),n.n=1,T(t);case 1:return n.a(2)}},n)}));return function(t){return n.apply(this,arguments)}}())})}function T(t){return U.apply(this,arguments)}function U(){return(U=b(g().m(function t(n){var e,r,a;return g().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,(0,o.Q5)();case 1:if(e=t.v,(r=e.find(function(t){return t.id===n}))&&r.images){t.n=2;break}return t.a(2);case 2:a=document.querySelectorAll(".image-card"),Array.from(a).map(function(t){return t.dataset.imageId}).forEach(function(t,n){var e=r.images.find(function(n){return n.id===t});e&&(e.order=n)}),r.updatedAt=(new Date).toISOString(),(0,o.Jp)(e),localStorage.setItem("editingRecipe",JSON.stringify(r));case 3:return t.a(2)}},t)}))).apply(this,arguments)}function q(t,n){var e=document.getElementById("upload-status");e&&(e.textContent=t,e.className="upload-status-".concat(n),"success"!==n&&"error"!==n||setTimeout(function(){e.textContent="",e.className=""},3e3))}o=c[0],window.editAttribution=function(){var t=b(g().m(function t(n,e){var r,a,i,u,c;return g().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,(0,o.Q5)();case 1:if(a=t.v,i=a.find(function(t){return t.id===n}),u=null==i||null===(r=i.images)||void 0===r?void 0:r.find(function(t){return t.id===e})){t.n=2;break}return t.a(2);case 2:if("unsplash"!==u.source){t.n=3;break}return alert("Unsplash attribution cannot be edited or removed per their terms of use."),t.a(2);case 3:return t.n=4,j(u.attribution);case 4:if(void 0===(c=t.v)){t.n=5;break}return u.attribution=c,i.updatedAt=(new Date).toISOString(),(0,o.Jp)(a),localStorage.setItem("editingRecipe",JSON.stringify(i)),t.n=5,E(n);case 5:return t.a(2)}},t)}));return function(n,e){return t.apply(this,arguments)}}(),window.setFeaturedImage=function(){var t=b(g().m(function t(n,e){var r,a,i;return g().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,(0,o.Q5)();case 1:if(r=t.v,(a=r.find(function(t){return t.id===n}))&&a.images){t.n=2;break}return t.a(2);case 2:return a.images.forEach(function(t){return t.isFeatured=!1}),(i=a.images.find(function(t){return t.id===e}))&&(i.isFeatured=!0),a.updatedAt=(new Date).toISOString(),(0,o.Jp)(r),localStorage.setItem("editingRecipe",JSON.stringify(a)),t.n=3,E(n);case 3:return t.a(2)}},t)}));return function(n,e){return t.apply(this,arguments)}}(),window.moveImageUp=function(){var t=b(g().m(function t(n,e){var r,a,i,u;return g().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,(0,o.Q5)();case 1:if(r=t.v,(a=r.find(function(t){return t.id===n}))&&a.images){t.n=2;break}return t.a(2);case 2:if(!((i=a.images.findIndex(function(t){return t.id===e}))<=0)){t.n=3;break}return t.a(2);case 3:return u=a.images[i].order,a.images[i].order=a.images[i-1].order,a.images[i-1].order=u,a.updatedAt=(new Date).toISOString(),(0,o.Jp)(r),localStorage.setItem("editingRecipe",JSON.stringify(a)),t.n=4,E(n);case 4:return t.a(2)}},t)}));return function(n,e){return t.apply(this,arguments)}}(),window.moveImageDown=function(){var t=b(g().m(function t(n,e){var r,a,i,u;return g().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,(0,o.Q5)();case 1:if(r=t.v,(a=r.find(function(t){return t.id===n}))&&a.images){t.n=2;break}return t.a(2);case 2:if(!(-1===(i=a.images.findIndex(function(t){return t.id===e}))||i>=a.images.length-1)){t.n=3;break}return t.a(2);case 3:return u=a.images[i].order,a.images[i].order=a.images[i+1].order,a.images[i+1].order=u,a.updatedAt=(new Date).toISOString(),(0,o.Jp)(r),localStorage.setItem("editingRecipe",JSON.stringify(a)),t.n=4,E(n);case 4:return t.a(2)}},t)}));return function(n,e){return t.apply(this,arguments)}}(),window.removeImage=function(){var t=b(g().m(function t(n,e){var r,a;return g().w(function(t){for(;;)switch(t.n){case 0:if(confirm("Remove this image? This cannot be undone.")){t.n=1;break}return t.a(2);case 1:return t.n=2,(0,o.Q5)();case 2:if(r=t.v,(a=r.find(function(t){return t.id===n}))&&a.images){t.n=3;break}return t.a(2);case 3:return a.images.find(function(t){return t.id===e}),a.images=a.images.filter(function(t){return t.id!==e}),a.images.sort(function(t,n){return t.order-n.order}),a.images.forEach(function(t,n){return t.order=n}),a.images.length>0&&!a.images.some(function(t){return t.isFeatured})&&(a.images[0].isFeatured=!0),a.updatedAt=(new Date).toISOString(),(0,o.Jp)(r),localStorage.setItem("editingRecipe",JSON.stringify(a)),t.n=4,E(n);case 4:return t.a(2)}},t)}));return function(n,e){return t.apply(this,arguments)}}(),r()}catch(z){r(z)}})}};
//# sourceMappingURL=100-bundle.js.map?01bf446ff78254954479