/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
export const __webpack_esm_id__ = "src_helpers_imageGallery_js";
export const __webpack_esm_ids__ = ["src_helpers_imageGallery_js"];
export const __webpack_esm_modules__ = {

/***/ "./src/helpers/duplicateCheck.js":
/*!***************************************!*\
  !*** ./src/helpers/duplicateCheck.js ***!
  \***************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   checkDuplicateByFilename: () => (/* binding */ checkDuplicateByFilename),\n/* harmony export */   checkForDuplicate: () => (/* binding */ checkForDuplicate),\n/* harmony export */   generateFileHash: () => (/* binding */ generateFileHash)\n/* harmony export */ });\nfunction _regenerator() { /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */ var e, t, r = \"function\" == typeof Symbol ? Symbol : {}, n = r.iterator || \"@@iterator\", o = r.toStringTag || \"@@toStringTag\"; function i(r, n, o, i) { var c = n && n.prototype instanceof Generator ? n : Generator, u = Object.create(c.prototype); return _regeneratorDefine2(u, \"_invoke\", function (r, n, o) { var i, c, u, f = 0, p = o || [], y = !1, G = { p: 0, n: 0, v: e, a: d, f: d.bind(e, 4), d: function d(t, r) { return i = t, c = 0, u = e, G.n = r, a; } }; function d(r, n) { for (c = r, u = n, t = 0; !y && f && !o && t < p.length; t++) { var o, i = p[t], d = G.p, l = i[2]; r > 3 ? (o = l === n) && (u = i[(c = i[4]) ? 5 : (c = 3, 3)], i[4] = i[5] = e) : i[0] <= d && ((o = r < 2 && d < i[1]) ? (c = 0, G.v = n, G.n = i[1]) : d < l && (o = r < 3 || i[0] > n || n > l) && (i[4] = r, i[5] = n, G.n = l, c = 0)); } if (o || r > 1) return a; throw y = !0, n; } return function (o, p, l) { if (f > 1) throw TypeError(\"Generator is already running\"); for (y && 1 === p && d(p, l), c = p, u = l; (t = c < 2 ? e : u) || !y;) { i || (c ? c < 3 ? (c > 1 && (G.n = -1), d(c, u)) : G.n = u : G.v = u); try { if (f = 2, i) { if (c || (o = \"next\"), t = i[o]) { if (!(t = t.call(i, u))) throw TypeError(\"iterator result is not an object\"); if (!t.done) return t; u = t.value, c < 2 && (c = 0); } else 1 === c && (t = i[\"return\"]) && t.call(i), c < 2 && (u = TypeError(\"The iterator does not provide a '\" + o + \"' method\"), c = 1); i = e; } else if ((t = (y = G.n < 0) ? u : r.call(n, G)) !== a) break; } catch (t) { i = e, c = 1, u = t; } finally { f = 1; } } return { value: t, done: y }; }; }(r, o, i), !0), u; } var a = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} t = Object.getPrototypeOf; var c = [][n] ? t(t([][n]())) : (_regeneratorDefine2(t = {}, n, function () { return this; }), t), u = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(c); function f(e) { return Object.setPrototypeOf ? Object.setPrototypeOf(e, GeneratorFunctionPrototype) : (e.__proto__ = GeneratorFunctionPrototype, _regeneratorDefine2(e, o, \"GeneratorFunction\")), e.prototype = Object.create(u), e; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, _regeneratorDefine2(u, \"constructor\", GeneratorFunctionPrototype), _regeneratorDefine2(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = \"GeneratorFunction\", _regeneratorDefine2(GeneratorFunctionPrototype, o, \"GeneratorFunction\"), _regeneratorDefine2(u), _regeneratorDefine2(u, o, \"Generator\"), _regeneratorDefine2(u, n, function () { return this; }), _regeneratorDefine2(u, \"toString\", function () { return \"[object Generator]\"; }), (_regenerator = function _regenerator() { return { w: i, m: f }; })(); }\nfunction _regeneratorDefine2(e, r, n, t) { var i = Object.defineProperty; try { i({}, \"\", {}); } catch (e) { i = 0; } _regeneratorDefine2 = function _regeneratorDefine(e, r, n, t) { function o(r, n) { _regeneratorDefine2(e, r, function (e) { return this._invoke(r, n, e); }); } r ? i ? i(e, r, { value: n, enumerable: !t, configurable: !t, writable: !t }) : e[r] = n : (o(\"next\", 0), o(\"throw\", 1), o(\"return\", 2)); }, _regeneratorDefine2(e, r, n, t); }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n); } _next(void 0); }); }; }\n// src/helpers/duplicateCheck.js\n\n/**\n * Generate hash from file for duplicate detection\n * @param {File|Blob} file\n * @returns {Promise<string>} - Hash string\n */\nfunction generateFileHash(_x) {\n  return _generateFileHash.apply(this, arguments);\n}\n\n/**\n * Check if image already uploaded\n * @param {File|Blob} file\n * @param {Array} existingImages - Recipe's images array\n * @returns {Promise<Object|null>} - Existing image if found, null otherwise\n */\nfunction _generateFileHash() {\n  _generateFileHash = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee(file) {\n    var arrayBuffer, hashBuffer, hashArray, hashHex;\n    return _regenerator().w(function (_context) {\n      while (1) switch (_context.n) {\n        case 0:\n          _context.n = 1;\n          return file.arrayBuffer();\n        case 1:\n          arrayBuffer = _context.v;\n          _context.n = 2;\n          return crypto.subtle.digest('SHA-256', arrayBuffer);\n        case 2:\n          hashBuffer = _context.v;\n          hashArray = Array.from(new Uint8Array(hashBuffer));\n          hashHex = hashArray.map(function (b) {\n            return b.toString(16).padStart(2, '0');\n          }).join('');\n          return _context.a(2, hashHex);\n      }\n    }, _callee);\n  }));\n  return _generateFileHash.apply(this, arguments);\n}\nfunction checkForDuplicate(_x2, _x3) {\n  return _checkForDuplicate.apply(this, arguments);\n}\n\n/**\n * Check by filename (simpler but less accurate)\n * @param {string} filename\n * @param {Array} existingImages\n * @returns {Object|null}\n */\nfunction _checkForDuplicate() {\n  _checkForDuplicate = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee2(file, existingImages) {\n    var fileHash, duplicate;\n    return _regenerator().w(function (_context2) {\n      while (1) switch (_context2.n) {\n        case 0:\n          if (!(!existingImages || existingImages.length === 0)) {\n            _context2.n = 1;\n            break;\n          }\n          return _context2.a(2, null);\n        case 1:\n          _context2.n = 2;\n          return generateFileHash(file);\n        case 2:\n          fileHash = _context2.v;\n          // Check if any existing image has this hash\n          duplicate = existingImages.find(function (img) {\n            return img.fileHash === fileHash;\n          });\n          return _context2.a(2, duplicate || null);\n      }\n    }, _callee2);\n  }));\n  return _checkForDuplicate.apply(this, arguments);\n}\nfunction checkDuplicateByFilename(filename, existingImages) {\n  if (!existingImages || existingImages.length === 0) {\n    return null;\n  }\n\n  // Normalize filename (remove path, spaces, special chars)\n  var normalizedName = filename.toLowerCase().trim().replace(/\\s+/g, '-');\n  var duplicate = existingImages.find(function (img) {\n    var _img$metadata;\n    if ((_img$metadata = img.metadata) !== null && _img$metadata !== void 0 && _img$metadata.originalFilename) {\n      var existingName = img.metadata.originalFilename.toLowerCase().trim().replace(/\\s+/g, '-');\n      return existingName === normalizedName;\n    }\n    return false;\n  });\n  return duplicate || null;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFHO1lBQUEsT0FBSUEsR0FBRyxDQUFDSixRQUFRLEtBQUtBLFFBQVE7VUFBQSxFQUFDO1VBQUEsT0FBQUUsU0FBQSxDQUFBOUQsQ0FBQSxJQUVoRTZELFNBQVMsSUFBSSxJQUFJO01BQUE7SUFBQSxHQUFBSCxRQUFBO0VBQUEsQ0FDekI7RUFBQSxPQUFBRCxrQkFBQSxDQUFBM0IsS0FBQSxPQUFBRCxTQUFBO0FBQUE7QUFRTSxTQUFTb0Msd0JBQXdCQSxDQUFDQyxRQUFRLEVBQUVQLGNBQWMsRUFBRTtFQUNqRSxJQUFJLENBQUNBLGNBQWMsSUFBSUEsY0FBYyxDQUFDeEQsTUFBTSxLQUFLLENBQUMsRUFBRTtJQUNsRCxPQUFPLElBQUk7RUFDYjs7RUFFQTtFQUNBLElBQU1nRSxjQUFjLEdBQUdELFFBQVEsQ0FBQ0UsV0FBVyxDQUFDLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLENBQUMsQ0FBQ0MsT0FBTyxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUM7RUFFekUsSUFBTVQsU0FBUyxHQUFHRixjQUFjLENBQUNJLElBQUksQ0FBQyxVQUFBQyxHQUFHLEVBQUk7SUFBQSxJQUFBTyxhQUFBO0lBQzNDLEtBQUFBLGFBQUEsR0FBSVAsR0FBRyxDQUFDUSxRQUFRLGNBQUFELGFBQUEsZUFBWkEsYUFBQSxDQUFjRSxnQkFBZ0IsRUFBRTtNQUNsQyxJQUFNQyxZQUFZLEdBQUdWLEdBQUcsQ0FBQ1EsUUFBUSxDQUFDQyxnQkFBZ0IsQ0FBQ0wsV0FBVyxDQUFDLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLENBQUMsQ0FBQ0MsT0FBTyxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUM7TUFDNUYsT0FBT0ksWUFBWSxLQUFLUCxjQUFjO0lBQ3hDO0lBQ0EsT0FBTyxLQUFLO0VBQ2QsQ0FBQyxDQUFDO0VBRUYsT0FBT04sU0FBUyxJQUFJLElBQUk7QUFDMUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWNpcGUtbWUtd2VicGFjazUvLi9zcmMvaGVscGVycy9kdXBsaWNhdGVDaGVjay5qcz8wYzZjIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9oZWxwZXJzL2R1cGxpY2F0ZUNoZWNrLmpzXG5cbi8qKlxuICogR2VuZXJhdGUgaGFzaCBmcm9tIGZpbGUgZm9yIGR1cGxpY2F0ZSBkZXRlY3Rpb25cbiAqIEBwYXJhbSB7RmlsZXxCbG9ifSBmaWxlXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fSAtIEhhc2ggc3RyaW5nXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZW5lcmF0ZUZpbGVIYXNoKGZpbGUpIHtcbiAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBmaWxlLmFycmF5QnVmZmVyKCk7XG4gIGNvbnN0IGhhc2hCdWZmZXIgPSBhd2FpdCBjcnlwdG8uc3VidGxlLmRpZ2VzdCgnU0hBLTI1NicsIGFycmF5QnVmZmVyKTtcbiAgY29uc3QgaGFzaEFycmF5ID0gQXJyYXkuZnJvbShuZXcgVWludDhBcnJheShoYXNoQnVmZmVyKSk7XG4gIGNvbnN0IGhhc2hIZXggPSBoYXNoQXJyYXkubWFwKGIgPT4gYi50b1N0cmluZygxNikucGFkU3RhcnQoMiwgJzAnKSkuam9pbignJyk7XG4gIHJldHVybiBoYXNoSGV4O1xufVxuXG4vKipcbiAqIENoZWNrIGlmIGltYWdlIGFscmVhZHkgdXBsb2FkZWRcbiAqIEBwYXJhbSB7RmlsZXxCbG9ifSBmaWxlXG4gKiBAcGFyYW0ge0FycmF5fSBleGlzdGluZ0ltYWdlcyAtIFJlY2lwZSdzIGltYWdlcyBhcnJheVxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0fG51bGw+fSAtIEV4aXN0aW5nIGltYWdlIGlmIGZvdW5kLCBudWxsIG90aGVyd2lzZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2hlY2tGb3JEdXBsaWNhdGUoZmlsZSwgZXhpc3RpbmdJbWFnZXMpIHtcbiAgaWYgKCFleGlzdGluZ0ltYWdlcyB8fCBleGlzdGluZ0ltYWdlcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNvbnN0IGZpbGVIYXNoID0gYXdhaXQgZ2VuZXJhdGVGaWxlSGFzaChmaWxlKTtcbiAgXG4gIC8vIENoZWNrIGlmIGFueSBleGlzdGluZyBpbWFnZSBoYXMgdGhpcyBoYXNoXG4gIGNvbnN0IGR1cGxpY2F0ZSA9IGV4aXN0aW5nSW1hZ2VzLmZpbmQoaW1nID0+IGltZy5maWxlSGFzaCA9PT0gZmlsZUhhc2gpO1xuICBcbiAgcmV0dXJuIGR1cGxpY2F0ZSB8fCBudWxsO1xufVxuXG4vKipcbiAqIENoZWNrIGJ5IGZpbGVuYW1lIChzaW1wbGVyIGJ1dCBsZXNzIGFjY3VyYXRlKVxuICogQHBhcmFtIHtzdHJpbmd9IGZpbGVuYW1lXG4gKiBAcGFyYW0ge0FycmF5fSBleGlzdGluZ0ltYWdlc1xuICogQHJldHVybnMge09iamVjdHxudWxsfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tEdXBsaWNhdGVCeUZpbGVuYW1lKGZpbGVuYW1lLCBleGlzdGluZ0ltYWdlcykge1xuICBpZiAoIWV4aXN0aW5nSW1hZ2VzIHx8IGV4aXN0aW5nSW1hZ2VzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLy8gTm9ybWFsaXplIGZpbGVuYW1lIChyZW1vdmUgcGF0aCwgc3BhY2VzLCBzcGVjaWFsIGNoYXJzKVxuICBjb25zdCBub3JtYWxpemVkTmFtZSA9IGZpbGVuYW1lLnRvTG93ZXJDYXNlKCkudHJpbSgpLnJlcGxhY2UoL1xccysvZywgJy0nKTtcbiAgXG4gIGNvbnN0IGR1cGxpY2F0ZSA9IGV4aXN0aW5nSW1hZ2VzLmZpbmQoaW1nID0+IHtcbiAgICBpZiAoaW1nLm1ldGFkYXRhPy5vcmlnaW5hbEZpbGVuYW1lKSB7XG4gICAgICBjb25zdCBleGlzdGluZ05hbWUgPSBpbWcubWV0YWRhdGEub3JpZ2luYWxGaWxlbmFtZS50b0xvd2VyQ2FzZSgpLnRyaW0oKS5yZXBsYWNlKC9cXHMrL2csICctJyk7XG4gICAgICByZXR1cm4gZXhpc3RpbmdOYW1lID09PSBub3JtYWxpemVkTmFtZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9KTtcbiAgXG4gIHJldHVybiBkdXBsaWNhdGUgfHwgbnVsbDtcbn0iXSwibmFtZXMiOlsiZSIsInQiLCJyIiwiU3ltYm9sIiwibiIsIml0ZXJhdG9yIiwibyIsInRvU3RyaW5nVGFnIiwiaSIsImMiLCJwcm90b3R5cGUiLCJHZW5lcmF0b3IiLCJ1IiwiT2JqZWN0IiwiY3JlYXRlIiwiX3JlZ2VuZXJhdG9yRGVmaW5lMiIsImYiLCJwIiwieSIsIkciLCJ2IiwiYSIsImQiLCJiaW5kIiwibGVuZ3RoIiwibCIsIlR5cGVFcnJvciIsImNhbGwiLCJkb25lIiwidmFsdWUiLCJHZW5lcmF0b3JGdW5jdGlvbiIsIkdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlIiwiZ2V0UHJvdG90eXBlT2YiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsImRpc3BsYXlOYW1lIiwiX3JlZ2VuZXJhdG9yIiwidyIsIm0iLCJkZWZpbmVQcm9wZXJ0eSIsIl9yZWdlbmVyYXRvckRlZmluZSIsIl9pbnZva2UiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJhc3luY0dlbmVyYXRvclN0ZXAiLCJQcm9taXNlIiwicmVzb2x2ZSIsInRoZW4iLCJfYXN5bmNUb0dlbmVyYXRvciIsImFyZ3VtZW50cyIsImFwcGx5IiwiX25leHQiLCJfdGhyb3ciLCJnZW5lcmF0ZUZpbGVIYXNoIiwiX3giLCJfZ2VuZXJhdGVGaWxlSGFzaCIsIl9jYWxsZWUiLCJmaWxlIiwiYXJyYXlCdWZmZXIiLCJoYXNoQnVmZmVyIiwiaGFzaEFycmF5IiwiaGFzaEhleCIsIl9jb250ZXh0IiwiY3J5cHRvIiwic3VidGxlIiwiZGlnZXN0IiwiQXJyYXkiLCJmcm9tIiwiVWludDhBcnJheSIsIm1hcCIsImIiLCJ0b1N0cmluZyIsInBhZFN0YXJ0Iiwiam9pbiIsImNoZWNrRm9yRHVwbGljYXRlIiwiX3gyIiwiX3gzIiwiX2NoZWNrRm9yRHVwbGljYXRlIiwiX2NhbGxlZTIiLCJleGlzdGluZ0ltYWdlcyIsImZpbGVIYXNoIiwiZHVwbGljYXRlIiwiX2NvbnRleHQyIiwiZmluZCIsImltZyIsImNoZWNrRHVwbGljYXRlQnlGaWxlbmFtZSIsImZpbGVuYW1lIiwibm9ybWFsaXplZE5hbWUiLCJ0b0xvd2VyQ2FzZSIsInRyaW0iLCJyZXBsYWNlIiwiX2ltZyRtZXRhZGF0YSIsIm1ldGFkYXRhIiwib3JpZ2luYWxGaWxlbmFtZSIsImV4aXN0aW5nTmFtZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/helpers/duplicateCheck.js\n\n}");

/***/ }),

/***/ "./src/helpers/globalImageRegistry.js":
/*!********************************************!*\
  !*** ./src/helpers/globalImageRegistry.js ***!
  \********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cleanupOrphanedImages: () => (/* binding */ cleanupOrphanedImages),\n/* harmony export */   findExistingImage: () => (/* binding */ findExistingImage),\n/* harmony export */   getImageRegistry: () => (/* binding */ getImageRegistry),\n/* harmony export */   getImageStats: () => (/* binding */ getImageStats),\n/* harmony export */   registerImage: () => (/* binding */ registerImage),\n/* harmony export */   saveImageRegistry: () => (/* binding */ saveImageRegistry),\n/* harmony export */   unregisterImageFromRecipe: () => (/* binding */ unregisterImageFromRecipe)\n/* harmony export */ });\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n// src/helpers/globalImageRegistry.js\n\n/**\n * Global image registry for deduplication across all recipes\n * Structure:\n * {\n *   \"hash123\": {\n *     url: \"https://cloudinary.com/.../image.jpg\",\n *     cloudinaryPublicId: \"recipes/abc123\",\n *     uploadedAt: \"2025-12-18T10:30:00Z\",\n *     usedByRecipes: [\"recipe-1\", \"recipe-2\"],\n *     metadata: { originalFilename: \"placeholder.jpg\", size: 524288 }\n *   }\n * }\n */\n\nvar REGISTRY_KEY = 'imageRegistry';\n\n/**\n * Get the global image registry\n */\nfunction getImageRegistry() {\n  try {\n    var data = localStorage.getItem(REGISTRY_KEY);\n    return data ? JSON.parse(data) : {};\n  } catch (error) {\n    console.error('Failed to load image registry:', error);\n    return {};\n  }\n}\n\n/**\n * Save the global image registry\n */\nfunction saveImageRegistry(registry) {\n  try {\n    localStorage.setItem(REGISTRY_KEY, JSON.stringify(registry));\n  } catch (error) {\n    console.error('Failed to save image registry:', error);\n  }\n}\n\n/**\n * Check if image already exists globally (across all recipes)\n * @param {string} fileHash - SHA-256 hash of file\n * @returns {Object|null} - Image data if exists, null otherwise\n */\nfunction findExistingImage(fileHash) {\n  var registry = getImageRegistry();\n  return registry[fileHash] || null;\n}\n\n/**\n * Register a new uploaded image\n * @param {string} fileHash - SHA-256 hash of file\n * @param {Object} imageData - Image data (url, cloudinaryPublicId, etc.)\n * @param {string} recipeId - Recipe ID using this image\n */\nfunction registerImage(fileHash, imageData, recipeId) {\n  var registry = getImageRegistry();\n  if (registry[fileHash]) {\n    // Image already exists, add this recipe to usage list\n    if (!registry[fileHash].usedByRecipes.includes(recipeId)) {\n      registry[fileHash].usedByRecipes.push(recipeId);\n      registry[fileHash].lastUsedAt = new Date().toISOString();\n    }\n  } else {\n    // New image, register it\n    registry[fileHash] = _objectSpread(_objectSpread({}, imageData), {}, {\n      uploadedAt: new Date().toISOString(),\n      lastUsedAt: new Date().toISOString(),\n      usedByRecipes: [recipeId]\n    });\n  }\n  saveImageRegistry(registry);\n}\n\n/**\n * Remove recipe from image usage (when image removed from recipe)\n * @param {string} fileHash - SHA-256 hash of file\n * @param {string} recipeId - Recipe ID to remove\n */\nfunction unregisterImageFromRecipe(fileHash, recipeId) {\n  var registry = getImageRegistry();\n  if (registry[fileHash]) {\n    registry[fileHash].usedByRecipes = registry[fileHash].usedByRecipes.filter(function (id) {\n      return id !== recipeId;\n    });\n\n    // If no recipes use this image anymore, you could optionally delete from Cloudinary\n    // (but keeping it is safer in case of orphaned references)\n\n    saveImageRegistry(registry);\n  }\n}\n\n/**\n * Get statistics about global image usage\n */\nfunction getImageStats() {\n  var registry = getImageRegistry();\n  var images = Object.values(registry);\n  return {\n    totalImages: images.length,\n    totalUsage: images.reduce(function (sum, img) {\n      return sum + img.usedByRecipes.length;\n    }, 0),\n    sharedImages: images.filter(function (img) {\n      return img.usedByRecipes.length > 1;\n    }).length,\n    orphanedImages: images.filter(function (img) {\n      return img.usedByRecipes.length === 0;\n    }).length\n  };\n}\n\n/**\n * Clean up orphaned images (not used by any recipe)\n */\nfunction cleanupOrphanedImages() {\n  var registry = getImageRegistry();\n  var cleaned = {};\n  Object.entries(registry).forEach(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n      hash = _ref2[0],\n      imageData = _ref2[1];\n    if (imageData.usedByRecipes.length > 0) {\n      cleaned[hash] = imageData;\n    } else {\n      var _imageData$metadata;\n      console.log('ðŸ—‘ï¸ Orphaned image:', (_imageData$metadata = imageData.metadata) === null || _imageData$metadata === void 0 ? void 0 : _imageData$metadata.originalFilename);\n    }\n  });\n  saveImageRegistry(cleaned);\n  return {\n    before: Object.keys(registry).length,\n    after: Object.keys(cleaned).length,\n    removed: Object.keys(registry).length - Object.keys(cleaned).length\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFBO01BQXJCRyxJQUFJLEdBQUFGLEtBQUE7TUFBRTlCLFNBQVMsR0FBQThCLEtBQUE7SUFDaEQsSUFBSTlCLFNBQVMsQ0FBQ0UsYUFBYSxDQUFDZ0IsTUFBTSxHQUFHLENBQUMsRUFBRTtNQUN0Q1EsT0FBTyxDQUFDTSxJQUFJLENBQUMsR0FBR2hDLFNBQVM7SUFDM0IsQ0FBQyxNQUFNO01BQUEsSUFBQWlDLG1CQUFBO01BQ0x6QyxPQUFPLENBQUMwQyxHQUFHLENBQUMscUJBQXFCLEdBQUFELG1CQUFBLEdBQUVqQyxTQUFTLENBQUNtQyxRQUFRLGNBQUFGLG1CQUFBLHVCQUFsQkEsbUJBQUEsQ0FBb0JHLGdCQUFnQixDQUFDO0lBQzFFO0VBQ0YsQ0FBQyxDQUFDO0VBRUYzQyxpQkFBaUIsQ0FBQ2lDLE9BQU8sQ0FBQztFQUUxQixPQUFPO0lBQ0xXLE1BQU0sRUFBRXRCLE1BQU0sQ0FBQ3VCLElBQUksQ0FBQzVDLFFBQVEsQ0FBQyxDQUFDd0IsTUFBTTtJQUNwQ3FCLEtBQUssRUFBRXhCLE1BQU0sQ0FBQ3VCLElBQUksQ0FBQ1osT0FBTyxDQUFDLENBQUNSLE1BQU07SUFDbENzQixPQUFPLEVBQUV6QixNQUFNLENBQUN1QixJQUFJLENBQUM1QyxRQUFRLENBQUMsQ0FBQ3dCLE1BQU0sR0FBR0gsTUFBTSxDQUFDdUIsSUFBSSxDQUFDWixPQUFPLENBQUMsQ0FBQ1I7RUFDL0QsQ0FBQztBQUNIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVjaXBlLW1lLXdlYnBhY2s1Ly4vc3JjL2hlbHBlcnMvZ2xvYmFsSW1hZ2VSZWdpc3RyeS5qcz9mMDZjIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9oZWxwZXJzL2dsb2JhbEltYWdlUmVnaXN0cnkuanNcblxuLyoqXG4gKiBHbG9iYWwgaW1hZ2UgcmVnaXN0cnkgZm9yIGRlZHVwbGljYXRpb24gYWNyb3NzIGFsbCByZWNpcGVzXG4gKiBTdHJ1Y3R1cmU6XG4gKiB7XG4gKiAgIFwiaGFzaDEyM1wiOiB7XG4gKiAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vLi4uL2ltYWdlLmpwZ1wiLFxuICogICAgIGNsb3VkaW5hcnlQdWJsaWNJZDogXCJyZWNpcGVzL2FiYzEyM1wiLFxuICogICAgIHVwbG9hZGVkQXQ6IFwiMjAyNS0xMi0xOFQxMDozMDowMFpcIixcbiAqICAgICB1c2VkQnlSZWNpcGVzOiBbXCJyZWNpcGUtMVwiLCBcInJlY2lwZS0yXCJdLFxuICogICAgIG1ldGFkYXRhOiB7IG9yaWdpbmFsRmlsZW5hbWU6IFwicGxhY2Vob2xkZXIuanBnXCIsIHNpemU6IDUyNDI4OCB9XG4gKiAgIH1cbiAqIH1cbiAqL1xuXG5jb25zdCBSRUdJU1RSWV9LRVkgPSAnaW1hZ2VSZWdpc3RyeSc7XG5cbi8qKlxuICogR2V0IHRoZSBnbG9iYWwgaW1hZ2UgcmVnaXN0cnlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEltYWdlUmVnaXN0cnkoKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgZGF0YSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFJFR0lTVFJZX0tFWSk7XG4gICAgcmV0dXJuIGRhdGEgPyBKU09OLnBhcnNlKGRhdGEpIDoge307XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGxvYWQgaW1hZ2UgcmVnaXN0cnk6JywgZXJyb3IpO1xuICAgIHJldHVybiB7fTtcbiAgfVxufVxuXG4vKipcbiAqIFNhdmUgdGhlIGdsb2JhbCBpbWFnZSByZWdpc3RyeVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2F2ZUltYWdlUmVnaXN0cnkocmVnaXN0cnkpIHtcbiAgdHJ5IHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShSRUdJU1RSWV9LRVksIEpTT04uc3RyaW5naWZ5KHJlZ2lzdHJ5KSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHNhdmUgaW1hZ2UgcmVnaXN0cnk6JywgZXJyb3IpO1xuICB9XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgaW1hZ2UgYWxyZWFkeSBleGlzdHMgZ2xvYmFsbHkgKGFjcm9zcyBhbGwgcmVjaXBlcylcbiAqIEBwYXJhbSB7c3RyaW5nfSBmaWxlSGFzaCAtIFNIQS0yNTYgaGFzaCBvZiBmaWxlXG4gKiBAcmV0dXJucyB7T2JqZWN0fG51bGx9IC0gSW1hZ2UgZGF0YSBpZiBleGlzdHMsIG51bGwgb3RoZXJ3aXNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaW5kRXhpc3RpbmdJbWFnZShmaWxlSGFzaCkge1xuICBjb25zdCByZWdpc3RyeSA9IGdldEltYWdlUmVnaXN0cnkoKTtcbiAgcmV0dXJuIHJlZ2lzdHJ5W2ZpbGVIYXNoXSB8fCBudWxsO1xufVxuXG4vKipcbiAqIFJlZ2lzdGVyIGEgbmV3IHVwbG9hZGVkIGltYWdlXG4gKiBAcGFyYW0ge3N0cmluZ30gZmlsZUhhc2ggLSBTSEEtMjU2IGhhc2ggb2YgZmlsZVxuICogQHBhcmFtIHtPYmplY3R9IGltYWdlRGF0YSAtIEltYWdlIGRhdGEgKHVybCwgY2xvdWRpbmFyeVB1YmxpY0lkLCBldGMuKVxuICogQHBhcmFtIHtzdHJpbmd9IHJlY2lwZUlkIC0gUmVjaXBlIElEIHVzaW5nIHRoaXMgaW1hZ2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVySW1hZ2UoZmlsZUhhc2gsIGltYWdlRGF0YSwgcmVjaXBlSWQpIHtcbiAgY29uc3QgcmVnaXN0cnkgPSBnZXRJbWFnZVJlZ2lzdHJ5KCk7XG4gIFxuICBpZiAocmVnaXN0cnlbZmlsZUhhc2hdKSB7XG4gICAgLy8gSW1hZ2UgYWxyZWFkeSBleGlzdHMsIGFkZCB0aGlzIHJlY2lwZSB0byB1c2FnZSBsaXN0XG4gICAgaWYgKCFyZWdpc3RyeVtmaWxlSGFzaF0udXNlZEJ5UmVjaXBlcy5pbmNsdWRlcyhyZWNpcGVJZCkpIHtcbiAgICAgIHJlZ2lzdHJ5W2ZpbGVIYXNoXS51c2VkQnlSZWNpcGVzLnB1c2gocmVjaXBlSWQpO1xuICAgICAgcmVnaXN0cnlbZmlsZUhhc2hdLmxhc3RVc2VkQXQgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIE5ldyBpbWFnZSwgcmVnaXN0ZXIgaXRcbiAgICByZWdpc3RyeVtmaWxlSGFzaF0gPSB7XG4gICAgICAuLi5pbWFnZURhdGEsXG4gICAgICB1cGxvYWRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICBsYXN0VXNlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICB1c2VkQnlSZWNpcGVzOiBbcmVjaXBlSWRdXG4gICAgfTtcbiAgfVxuICBcbiAgc2F2ZUltYWdlUmVnaXN0cnkocmVnaXN0cnkpO1xufVxuXG4vKipcbiAqIFJlbW92ZSByZWNpcGUgZnJvbSBpbWFnZSB1c2FnZSAod2hlbiBpbWFnZSByZW1vdmVkIGZyb20gcmVjaXBlKVxuICogQHBhcmFtIHtzdHJpbmd9IGZpbGVIYXNoIC0gU0hBLTI1NiBoYXNoIG9mIGZpbGVcbiAqIEBwYXJhbSB7c3RyaW5nfSByZWNpcGVJZCAtIFJlY2lwZSBJRCB0byByZW1vdmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVucmVnaXN0ZXJJbWFnZUZyb21SZWNpcGUoZmlsZUhhc2gsIHJlY2lwZUlkKSB7XG4gIGNvbnN0IHJlZ2lzdHJ5ID0gZ2V0SW1hZ2VSZWdpc3RyeSgpO1xuICBcbiAgaWYgKHJlZ2lzdHJ5W2ZpbGVIYXNoXSkge1xuICAgIHJlZ2lzdHJ5W2ZpbGVIYXNoXS51c2VkQnlSZWNpcGVzID0gcmVnaXN0cnlbZmlsZUhhc2hdLnVzZWRCeVJlY2lwZXMuZmlsdGVyKFxuICAgICAgaWQgPT4gaWQgIT09IHJlY2lwZUlkXG4gICAgKTtcbiAgICBcbiAgICAvLyBJZiBubyByZWNpcGVzIHVzZSB0aGlzIGltYWdlIGFueW1vcmUsIHlvdSBjb3VsZCBvcHRpb25hbGx5IGRlbGV0ZSBmcm9tIENsb3VkaW5hcnlcbiAgICAvLyAoYnV0IGtlZXBpbmcgaXQgaXMgc2FmZXIgaW4gY2FzZSBvZiBvcnBoYW5lZCByZWZlcmVuY2VzKVxuICAgIFxuICAgIHNhdmVJbWFnZVJlZ2lzdHJ5KHJlZ2lzdHJ5KTtcbiAgfVxufVxuXG4vKipcbiAqIEdldCBzdGF0aXN0aWNzIGFib3V0IGdsb2JhbCBpbWFnZSB1c2FnZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0SW1hZ2VTdGF0cygpIHtcbiAgY29uc3QgcmVnaXN0cnkgPSBnZXRJbWFnZVJlZ2lzdHJ5KCk7XG4gIGNvbnN0IGltYWdlcyA9IE9iamVjdC52YWx1ZXMocmVnaXN0cnkpO1xuICBcbiAgcmV0dXJuIHtcbiAgICB0b3RhbEltYWdlczogaW1hZ2VzLmxlbmd0aCxcbiAgICB0b3RhbFVzYWdlOiBpbWFnZXMucmVkdWNlKChzdW0sIGltZykgPT4gc3VtICsgaW1nLnVzZWRCeVJlY2lwZXMubGVuZ3RoLCAwKSxcbiAgICBzaGFyZWRJbWFnZXM6IGltYWdlcy5maWx0ZXIoaW1nID0+IGltZy51c2VkQnlSZWNpcGVzLmxlbmd0aCA+IDEpLmxlbmd0aCxcbiAgICBvcnBoYW5lZEltYWdlczogaW1hZ2VzLmZpbHRlcihpbWcgPT4gaW1nLnVzZWRCeVJlY2lwZXMubGVuZ3RoID09PSAwKS5sZW5ndGhcbiAgfTtcbn1cblxuLyoqXG4gKiBDbGVhbiB1cCBvcnBoYW5lZCBpbWFnZXMgKG5vdCB1c2VkIGJ5IGFueSByZWNpcGUpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGVhbnVwT3JwaGFuZWRJbWFnZXMoKSB7XG4gIGNvbnN0IHJlZ2lzdHJ5ID0gZ2V0SW1hZ2VSZWdpc3RyeSgpO1xuICBjb25zdCBjbGVhbmVkID0ge307XG4gIFxuICBPYmplY3QuZW50cmllcyhyZWdpc3RyeSkuZm9yRWFjaCgoW2hhc2gsIGltYWdlRGF0YV0pID0+IHtcbiAgICBpZiAoaW1hZ2VEYXRhLnVzZWRCeVJlY2lwZXMubGVuZ3RoID4gMCkge1xuICAgICAgY2xlYW5lZFtoYXNoXSA9IGltYWdlRGF0YTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coJ/Cfl5HvuI8gT3JwaGFuZWQgaW1hZ2U6JywgaW1hZ2VEYXRhLm1ldGFkYXRhPy5vcmlnaW5hbEZpbGVuYW1lKTtcbiAgICB9XG4gIH0pO1xuICBcbiAgc2F2ZUltYWdlUmVnaXN0cnkoY2xlYW5lZCk7XG4gIFxuICByZXR1cm4ge1xuICAgIGJlZm9yZTogT2JqZWN0LmtleXMocmVnaXN0cnkpLmxlbmd0aCxcbiAgICBhZnRlcjogT2JqZWN0LmtleXMoY2xlYW5lZCkubGVuZ3RoLFxuICAgIHJlbW92ZWQ6IE9iamVjdC5rZXlzKHJlZ2lzdHJ5KS5sZW5ndGggLSBPYmplY3Qua2V5cyhjbGVhbmVkKS5sZW5ndGhcbiAgfTtcbn0iXSwibmFtZXMiOlsiUkVHSVNUUllfS0VZIiwiZ2V0SW1hZ2VSZWdpc3RyeSIsImRhdGEiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiSlNPTiIsInBhcnNlIiwiZXJyb3IiLCJjb25zb2xlIiwic2F2ZUltYWdlUmVnaXN0cnkiLCJyZWdpc3RyeSIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJmaW5kRXhpc3RpbmdJbWFnZSIsImZpbGVIYXNoIiwicmVnaXN0ZXJJbWFnZSIsImltYWdlRGF0YSIsInJlY2lwZUlkIiwidXNlZEJ5UmVjaXBlcyIsImluY2x1ZGVzIiwicHVzaCIsImxhc3RVc2VkQXQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJfb2JqZWN0U3ByZWFkIiwidXBsb2FkZWRBdCIsInVucmVnaXN0ZXJJbWFnZUZyb21SZWNpcGUiLCJmaWx0ZXIiLCJpZCIsImdldEltYWdlU3RhdHMiLCJpbWFnZXMiLCJPYmplY3QiLCJ2YWx1ZXMiLCJ0b3RhbEltYWdlcyIsImxlbmd0aCIsInRvdGFsVXNhZ2UiLCJyZWR1Y2UiLCJzdW0iLCJpbWciLCJzaGFyZWRJbWFnZXMiLCJvcnBoYW5lZEltYWdlcyIsImNsZWFudXBPcnBoYW5lZEltYWdlcyIsImNsZWFuZWQiLCJlbnRyaWVzIiwiZm9yRWFjaCIsIl9yZWYiLCJfcmVmMiIsIl9zbGljZWRUb0FycmF5IiwiaGFzaCIsIl9pbWFnZURhdGEkbWV0YWRhdGEiLCJsb2ciLCJtZXRhZGF0YSIsIm9yaWdpbmFsRmlsZW5hbWUiLCJiZWZvcmUiLCJrZXlzIiwiYWZ0ZXIiLCJyZW1vdmVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/helpers/globalImageRegistry.js\n\n}");

/***/ }),

/***/ "./src/helpers/imageGallery.js":
/*!*************************************!*\
  !*** ./src/helpers/imageGallery.js ***!
  \*************************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addUnsplashImage: () => (/* binding */ addUnsplashImage),\n/* harmony export */   renderImageGallery: () => (/* binding */ renderImageGallery),\n/* harmony export */   setupImageGallery: () => (/* binding */ setupImageGallery)\n/* harmony export */ });\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! uuid */ \"./node_modules/uuid/dist/esm-browser/v4.js\");\n/* harmony import */ var _functions_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../functions.js */ \"./src/functions.js\");\n/* harmony import */ var _imageOptimizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./imageOptimizer.js */ \"./src/helpers/imageOptimizer.js\");\n/* harmony import */ var _duplicateCheck_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./duplicateCheck.js */ \"./src/helpers/duplicateCheck.js\");\n/* harmony import */ var _globalImageRegistry_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./globalImageRegistry.js */ \"./src/helpers/globalImageRegistry.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_functions_js__WEBPACK_IMPORTED_MODULE_1__]);\nvar __webpack_async_dependencies_result__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n_functions_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_async_dependencies_result__[0];\nfunction _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _iterableToArray(r) { if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r); }\nfunction _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _regenerator() { /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */ var e, t, r = \"function\" == typeof Symbol ? Symbol : {}, n = r.iterator || \"@@iterator\", o = r.toStringTag || \"@@toStringTag\"; function i(r, n, o, i) { var c = n && n.prototype instanceof Generator ? n : Generator, u = Object.create(c.prototype); return _regeneratorDefine2(u, \"_invoke\", function (r, n, o) { var i, c, u, f = 0, p = o || [], y = !1, G = { p: 0, n: 0, v: e, a: d, f: d.bind(e, 4), d: function d(t, r) { return i = t, c = 0, u = e, G.n = r, a; } }; function d(r, n) { for (c = r, u = n, t = 0; !y && f && !o && t < p.length; t++) { var o, i = p[t], d = G.p, l = i[2]; r > 3 ? (o = l === n) && (u = i[(c = i[4]) ? 5 : (c = 3, 3)], i[4] = i[5] = e) : i[0] <= d && ((o = r < 2 && d < i[1]) ? (c = 0, G.v = n, G.n = i[1]) : d < l && (o = r < 3 || i[0] > n || n > l) && (i[4] = r, i[5] = n, G.n = l, c = 0)); } if (o || r > 1) return a; throw y = !0, n; } return function (o, p, l) { if (f > 1) throw TypeError(\"Generator is already running\"); for (y && 1 === p && d(p, l), c = p, u = l; (t = c < 2 ? e : u) || !y;) { i || (c ? c < 3 ? (c > 1 && (G.n = -1), d(c, u)) : G.n = u : G.v = u); try { if (f = 2, i) { if (c || (o = \"next\"), t = i[o]) { if (!(t = t.call(i, u))) throw TypeError(\"iterator result is not an object\"); if (!t.done) return t; u = t.value, c < 2 && (c = 0); } else 1 === c && (t = i[\"return\"]) && t.call(i), c < 2 && (u = TypeError(\"The iterator does not provide a '\" + o + \"' method\"), c = 1); i = e; } else if ((t = (y = G.n < 0) ? u : r.call(n, G)) !== a) break; } catch (t) { i = e, c = 1, u = t; } finally { f = 1; } } return { value: t, done: y }; }; }(r, o, i), !0), u; } var a = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} t = Object.getPrototypeOf; var c = [][n] ? t(t([][n]())) : (_regeneratorDefine2(t = {}, n, function () { return this; }), t), u = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(c); function f(e) { return Object.setPrototypeOf ? Object.setPrototypeOf(e, GeneratorFunctionPrototype) : (e.__proto__ = GeneratorFunctionPrototype, _regeneratorDefine2(e, o, \"GeneratorFunction\")), e.prototype = Object.create(u), e; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, _regeneratorDefine2(u, \"constructor\", GeneratorFunctionPrototype), _regeneratorDefine2(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = \"GeneratorFunction\", _regeneratorDefine2(GeneratorFunctionPrototype, o, \"GeneratorFunction\"), _regeneratorDefine2(u), _regeneratorDefine2(u, o, \"Generator\"), _regeneratorDefine2(u, n, function () { return this; }), _regeneratorDefine2(u, \"toString\", function () { return \"[object Generator]\"; }), (_regenerator = function _regenerator() { return { w: i, m: f }; })(); }\nfunction _regeneratorDefine2(e, r, n, t) { var i = Object.defineProperty; try { i({}, \"\", {}); } catch (e) { i = 0; } _regeneratorDefine2 = function _regeneratorDefine(e, r, n, t) { function o(r, n) { _regeneratorDefine2(e, r, function (e) { return this._invoke(r, n, e); }); } r ? i ? i(e, r, { value: n, enumerable: !t, configurable: !t, writable: !t }) : e[r] = n : (o(\"next\", 0), o(\"throw\", 1), o(\"return\", 2)); }, _regeneratorDefine2(e, r, n, t); }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n); } _next(void 0); }); }; }\n// src/helpers/imageGallery.js\n\n\n\n\n\nvar CLOUDINARY_CLOUD_NAME = 'day1f5nz8';\nvar CLOUDINARY_UPLOAD_PRESET = 'recipe_images';\n\n/**\n * Setup image gallery with upload, ordering, and feature selection\n * @param {string} recipeId - Current recipe ID\n */\nfunction setupImageGallery(recipeId) {\n  var uploadInput = document.getElementById('cloudinary-upload');\n  if (!uploadInput) {\n    console.warn('Image upload input not found');\n    return;\n  }\n\n  // Handle Cloudinary upload\n  uploadInput.addEventListener('change', /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee(e) {\n      var file, optimizedBlob, fileHash, existingImage, _existingImage$metada, usedInRecipes, shouldReuse, _existingImage$metada2, _imageData, recipes, recipe, duplicateByName, shouldContinue, originalSize, optimizedSize, savings, _yield$uploadToCloudi, url, publicId, imageData, _t;\n      return _regenerator().w(function (_context) {\n        while (1) switch (_context.p = _context.n) {\n          case 0:\n            file = e.target.files[0];\n            if (file) {\n              _context.n = 1;\n              break;\n            }\n            return _context.a(2);\n          case 1:\n            if (!file.type.startsWith('video/')) {\n              _context.n = 2;\n              break;\n            }\n            showUploadStatus('âŒ Video files not supported. Please upload to YouTube and paste the link instead.', 'error');\n            uploadInput.value = '';\n            return _context.a(2);\n          case 2:\n            if (file.type.startsWith('image/')) {\n              _context.n = 3;\n              break;\n            }\n            showUploadStatus('Please select an image file', 'error');\n            uploadInput.value = '';\n            return _context.a(2);\n          case 3:\n            if (!(file.size > 20 * 1024 * 1024)) {\n              _context.n = 4;\n              break;\n            }\n            showUploadStatus('Image must be smaller than 20MB', 'error');\n            return _context.a(2);\n          case 4:\n            _context.p = 4;\n            showUploadStatus('Checking for duplicates...', 'uploading');\n\n            // Optimize first (so hash matches what's stored)\n            _context.n = 5;\n            return (0,_imageOptimizer_js__WEBPACK_IMPORTED_MODULE_2__.optimizeImage)(file, _imageOptimizer_js__WEBPACK_IMPORTED_MODULE_2__.IMAGE_PRESETS.recipeHero);\n          case 5:\n            optimizedBlob = _context.v;\n            _context.n = 6;\n            return (0,_duplicateCheck_js__WEBPACK_IMPORTED_MODULE_3__.generateFileHash)(optimizedBlob);\n          case 6:\n            fileHash = _context.v;\n            // âœ… Check GLOBAL registry (all recipes)\n            existingImage = (0,_globalImageRegistry_js__WEBPACK_IMPORTED_MODULE_4__.findExistingImage)(fileHash);\n            if (!existingImage) {\n              _context.n = 9;\n              break;\n            }\n            usedInRecipes = existingImage.usedByRecipes.length;\n            shouldReuse = confirm(\"\\u2705 This image already exists!\\n\\n\" + \"File: \".concat(((_existingImage$metada = existingImage.metadata) === null || _existingImage$metada === void 0 ? void 0 : _existingImage$metada.originalFilename) || 'Unknown', \"\\n\") + \"Used in: \".concat(usedInRecipes, \" recipe(s)\\n\") + \"Uploaded: \".concat(new Date(existingImage.uploadedAt).toLocaleDateString(), \"\\n\\n\") + \"Reuse existing image? (Saves bandwidth & storage)\");\n            if (!shouldReuse) {\n              _context.n = 9;\n              break;\n            }\n            // âœ… Reuse existing image\n            console.log('â™»ï¸ Reusing existing image:', existingImage.url);\n            _imageData = {\n              url: existingImage.url,\n              source: 'user-upload',\n              cloudinaryPublicId: existingImage.cloudinaryPublicId,\n              fileHash: fileHash,\n              attribution: null,\n              metadata: {\n                uploadedAt: existingImage.uploadedAt,\n                originalFilename: file.name,\n                reusedFrom: (_existingImage$metada2 = existingImage.metadata) === null || _existingImage$metada2 === void 0 ? void 0 : _existingImage$metada2.originalFilename,\n                originalSize: file.size,\n                optimizedSize: optimizedBlob.size\n              }\n            };\n            _context.n = 7;\n            return addImageToRecipe(recipeId, _imageData);\n          case 7:\n            // Register this recipe as using the image\n            (0,_globalImageRegistry_js__WEBPACK_IMPORTED_MODULE_4__.registerImage)(fileHash, existingImage, recipeId);\n            _context.n = 8;\n            return renderImageGallery(recipeId);\n          case 8:\n            showUploadStatus('âœ“ Image reused! (No upload needed)', 'success');\n            uploadInput.value = '';\n            return _context.a(2);\n          case 9:\n            _context.n = 10;\n            return (0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.loadRecipes)();\n          case 10:\n            recipes = _context.v;\n            recipe = recipes.find(function (r) {\n              return r.id === recipeId;\n            });\n            if (!(recipe && recipe.images)) {\n              _context.n = 11;\n              break;\n            }\n            duplicateByName = (0,_duplicateCheck_js__WEBPACK_IMPORTED_MODULE_3__.checkDuplicateByFilename)(file.name, recipe.images);\n            if (!duplicateByName) {\n              _context.n = 11;\n              break;\n            }\n            shouldContinue = confirm(\"\\u26A0\\uFE0F An image named \\\"\".concat(file.name, \"\\\" already exists in this recipe.\\n\\n\") + \"Do you want to upload it anyway?\");\n            if (shouldContinue) {\n              _context.n = 11;\n              break;\n            }\n            uploadInput.value = '';\n            showUploadStatus('Upload cancelled - duplicate detected', 'error');\n            return _context.a(2);\n          case 11:\n            // Proceed with new upload\n            originalSize = (file.size / 1024).toFixed(0);\n            optimizedSize = (optimizedBlob.size / 1024).toFixed(0);\n            savings = Math.round((1 - optimizedBlob.size / file.size) * 100);\n            console.log(\"\\uD83D\\uDCC9 Size reduction: \".concat(originalSize, \"KB \\u2192 \").concat(optimizedSize, \"KB (\").concat(savings, \"% smaller)\"));\n            showUploadStatus('Uploading optimized image...', 'uploading');\n\n            // Upload to Cloudinary\n            _context.n = 12;\n            return uploadToCloudinary(optimizedBlob, file.name);\n          case 12:\n            _yield$uploadToCloudi = _context.v;\n            url = _yield$uploadToCloudi.url;\n            publicId = _yield$uploadToCloudi.publicId;\n            imageData = {\n              url: url,\n              source: 'user-upload',\n              cloudinaryPublicId: publicId,\n              fileHash: fileHash,\n              attribution: null,\n              metadata: {\n                uploadedAt: new Date().toISOString(),\n                originalFilename: file.name,\n                originalSize: file.size,\n                optimizedSize: optimizedBlob.size\n              }\n            }; // âœ… Register in global registry\n            (0,_globalImageRegistry_js__WEBPACK_IMPORTED_MODULE_4__.registerImage)(fileHash, imageData, recipeId);\n\n            // Add to recipe\n            _context.n = 13;\n            return addImageToRecipe(recipeId, imageData);\n          case 13:\n            _context.n = 14;\n            return renderImageGallery(recipeId);\n          case 14:\n            showUploadStatus(\"\\u2713 Image added! (Saved \".concat(savings, \"% bandwidth)\"), 'success');\n            uploadInput.value = '';\n            _context.n = 16;\n            break;\n          case 15:\n            _context.p = 15;\n            _t = _context.v;\n            console.error('Upload failed:', _t);\n            showUploadStatus(\"\\u2717 Upload failed: \".concat(_t.message), 'error');\n          case 16:\n            return _context.a(2);\n        }\n      }, _callee, null, [[4, 15]]);\n    }));\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n\n  // Initial render\n  renderImageGallery(recipeId);\n}\n\n/**\n * Add image from Unsplash (called from featureImage.js)\n * ALWAYS includes attribution (Unsplash requirement)\n * @param {string} recipeId \n * @param {Object} imageData \n */\nfunction addUnsplashImage(_x2, _x3) {\n  return _addUnsplashImage.apply(this, arguments);\n}\n\n/**\n * Upload to Cloudinary - returns URL and publicId\n */\nfunction _addUnsplashImage() {\n  _addUnsplashImage = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee8(recipeId, imageData) {\n    return _regenerator().w(function (_context8) {\n      while (1) switch (_context8.n) {\n        case 0:\n          _context8.n = 1;\n          return addImageToRecipe(recipeId, {\n            url: imageData.url,\n            source: 'unsplash',\n            cloudinaryPublicId: null,\n            attribution: {\n              photographer: imageData.photographer,\n              photographerUrl: imageData.photographerLink,\n              // Includes UTM params\n              requiresAttribution: true,\n              canEdit: false // Cannot edit/remove Unsplash attribution\n            }\n          });\n        case 1:\n          _context8.n = 2;\n          return renderImageGallery(recipeId);\n        case 2:\n          return _context8.a(2);\n      }\n    }, _callee8);\n  }));\n  return _addUnsplashImage.apply(this, arguments);\n}\nfunction uploadToCloudinary(_x4) {\n  return _uploadToCloudinary.apply(this, arguments);\n}\n/**\n * Add image to recipe\n */\nfunction _uploadToCloudinary() {\n  _uploadToCloudinary = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee9(fileOrBlob) {\n    var filename,\n      formData,\n      file,\n      response,\n      _error$error,\n      error,\n      data,\n      _args9 = arguments;\n    return _regenerator().w(function (_context9) {\n      while (1) switch (_context9.n) {\n        case 0:\n          filename = _args9.length > 1 && _args9[1] !== undefined ? _args9[1] : 'image.jpg';\n          formData = new FormData(); // Convert blob to file with proper name\n          if (fileOrBlob instanceof Blob && !(fileOrBlob instanceof File)) {\n            file = new File([fileOrBlob], filename, {\n              type: fileOrBlob.type\n            });\n            formData.append('file', file);\n          } else {\n            formData.append('file', fileOrBlob);\n          }\n          formData.append('upload_preset', CLOUDINARY_UPLOAD_PRESET);\n          formData.append('folder', 'recipes');\n          _context9.n = 1;\n          return fetch(\"https://api.cloudinary.com/v1_1/\".concat(CLOUDINARY_CLOUD_NAME, \"/image/upload\"), {\n            method: 'POST',\n            body: formData\n          });\n        case 1:\n          response = _context9.v;\n          if (response.ok) {\n            _context9.n = 3;\n            break;\n          }\n          _context9.n = 2;\n          return response.json();\n        case 2:\n          error = _context9.v;\n          throw new Error(((_error$error = error.error) === null || _error$error === void 0 ? void 0 : _error$error.message) || 'Upload failed');\n        case 3:\n          _context9.n = 4;\n          return response.json();\n        case 4:\n          data = _context9.v;\n          return _context9.a(2, {\n            url: data.secure_url.replace('/upload/', '/upload/q_auto,f_auto/'),\n            publicId: data.public_id\n          });\n      }\n    }, _callee9);\n  }));\n  return _uploadToCloudinary.apply(this, arguments);\n}\nfunction addImageToRecipe(_x5, _x6) {\n  return _addImageToRecipe.apply(this, arguments);\n}\n/**\n * Render the image gallery\n */\nfunction _addImageToRecipe() {\n  _addImageToRecipe = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee0(recipeId, imageData) {\n    var recipes, recipe, newImage;\n    return _regenerator().w(function (_context0) {\n      while (1) switch (_context0.n) {\n        case 0:\n          _context0.n = 1;\n          return (0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.loadRecipes)();\n        case 1:\n          recipes = _context0.v;\n          recipe = recipes.find(function (r) {\n            return r.id === recipeId;\n          });\n          if (recipe) {\n            _context0.n = 2;\n            break;\n          }\n          return _context0.a(2);\n        case 2:\n          // Initialize images array if needed\n          if (!recipe.images) {\n            recipe.images = [];\n          }\n\n          // Create new image object\n          newImage = {\n            id: (0,uuid__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(),\n            url: imageData.url,\n            source: imageData.source,\n            isFeatured: recipe.images.length === 0,\n            // First image is featured\n            order: recipe.images.length,\n            cloudinaryPublicId: imageData.cloudinaryPublicId || null,\n            fileHash: imageData.fileHash || null,\n            attribution: imageData.attribution || null,\n            metadata: imageData.metadata || null\n          };\n          recipe.images.push(newImage);\n          recipe.updatedAt = new Date().toISOString();\n          (0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.saveRecipes)(recipes);\n          localStorage.setItem('editingRecipe', JSON.stringify(recipe));\n        case 3:\n          return _context0.a(2);\n      }\n    }, _callee0);\n  }));\n  return _addImageToRecipe.apply(this, arguments);\n}\nfunction renderImageGallery(_x7) {\n  return _renderImageGallery.apply(this, arguments);\n}\n\n/**\n * Format attribution for display (Unsplash-compliant)\n */\nfunction _renderImageGallery() {\n  _renderImageGallery = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee1(recipeId) {\n    var recipes, recipe, gallery, noImagesMsg, sortedImages;\n    return _regenerator().w(function (_context1) {\n      while (1) switch (_context1.n) {\n        case 0:\n          _context1.n = 1;\n          return (0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.loadRecipes)();\n        case 1:\n          recipes = _context1.v;\n          recipe = recipes.find(function (r) {\n            return r.id === recipeId;\n          });\n          gallery = document.getElementById('image-gallery');\n          noImagesMsg = gallery === null || gallery === void 0 ? void 0 : gallery.querySelector('.no-images');\n          if (!(!recipe || !gallery)) {\n            _context1.n = 2;\n            break;\n          }\n          return _context1.a(2);\n        case 2:\n          if (!(!recipe.images || recipe.images.length === 0)) {\n            _context1.n = 3;\n            break;\n          }\n          if (noImagesMsg) noImagesMsg.style.display = 'block';\n          gallery.innerHTML = '<p class=\"no-images\">No images yet. Upload or search to add images.</p>';\n          return _context1.a(2);\n        case 3:\n          if (noImagesMsg) noImagesMsg.style.display = 'none';\n\n          // Sort images by order\n          sortedImages = _toConsumableArray(recipe.images).sort(function (a, b) {\n            return a.order - b.order;\n          });\n          gallery.innerHTML = \"\\n    \".concat(sortedImages.map(function (img) {\n            var _img$metadata;\n            return \"\\n      <div class=\\\"image-card\\\" data-image-id=\\\"\".concat(img.id, \"\\\" draggable=\\\"true\\\">\\n        <div class=\\\"image-preview\\\">\\n          <img src=\\\"\").concat(img.url, \"\\\" alt=\\\"Recipe image\\\">\\n          \").concat(img.isFeatured ? '<div class=\"featured-badge\"><i class=\"fa-solid fa-star\"></i> Featured</div>' : '', \"\\n          \\n          \").concat(img.source === 'unsplash' ? \"\\n            <div class=\\\"source-badge unsplash-badge\\\" title=\\\"From Unsplash\\\">\\n              <i class=\\\"fa-solid fa-image\\\"></i> Unsplash\\n            </div>\\n          \" : img.attribution ? \"\\n            <div class=\\\"source-badge attribution-badge\\\" title=\\\"\".concat(formatAttributionText(img), \"\\\">\\n              <i class=\\\"fa-solid fa-copyright\\\"></i> Credit\\n            </div>\\n          \") : (_img$metadata = img.metadata) !== null && _img$metadata !== void 0 && _img$metadata.reusedFrom ? \"\\n            <div class=\\\"source-badge reused-badge\\\" title=\\\"Reused from: \".concat(img.metadata.reusedFrom, \"\\\">\\n              <i class=\\\"fa-solid fa-recycle\\\"></i> Reused\\n            </div>\\n          \") : '', \"\\n        </div>\\n        \\n        <div class=\\\"image-actions\\\">\\n          <button \\n            class=\\\"btn-small \").concat(img.isFeatured ? 'active' : '', \"\\\" \\n            onclick=\\\"window.setFeaturedImage('\").concat(recipeId, \"', '\").concat(img.id, \"')\\\"\\n            title=\\\"Set as featured image\\\"\\n          >\\n            <i class=\\\"fa-solid fa-star\\\"></i>\\n          </button>\\n          \\n          <button \\n            class=\\\"btn-small\\\" \\n            onclick=\\\"window.moveImageUp('\").concat(recipeId, \"', '\").concat(img.id, \"')\\\"\\n            title=\\\"Move up\\\"\\n            \").concat(img.order === 0 ? 'disabled' : '', \"\\n          >\\n            <i class=\\\"fa-solid fa-arrow-up\\\"></i>\\n          </button>\\n          \\n          <button \\n            class=\\\"btn-small\\\" \\n            onclick=\\\"window.moveImageDown('\").concat(recipeId, \"', '\").concat(img.id, \"')\\\"\\n            title=\\\"Move down\\\"\\n            \").concat(img.order === sortedImages.length - 1 ? 'disabled' : '', \"\\n          >\\n            <i class=\\\"fa-solid fa-arrow-down\\\"></i>\\n          </button>\\n          \\n          <button \\n            class=\\\"btn-small \").concat(img.attribution ? 'has-attribution' : '', \"\\\" \\n            onclick=\\\"window.editAttribution('\").concat(recipeId, \"', '\").concat(img.id, \"')\\\"\\n            title=\\\"\").concat(img.source === 'unsplash' ? 'Unsplash attribution (required)' : img.attribution ? 'Edit attribution' : 'Add attribution', \"\\\"\\n            \").concat(img.source === 'unsplash' ? 'disabled' : '', \"\\n          >\\n            <i class=\\\"fa-solid fa-\").concat(img.source === 'unsplash' ? 'lock' : 'copyright', \"\\\"></i>\\n          </button>\\n          \\n          <button \\n            class=\\\"btn-small btn-danger\\\" \\n            onclick=\\\"window.removeImage('\").concat(recipeId, \"', '\").concat(img.id, \"')\\\"\\n            title=\\\"Remove image\\\"\\n          >\\n            <i class=\\\"fa-solid fa-trash\\\"></i>\\n          </button>\\n        </div>\\n        \\n        \").concat(img.source === 'unsplash' || img.attribution ? \"\\n          <div class=\\\"image-credit \".concat(img.source === 'unsplash' ? 'unsplash-credit' : '', \"\\\">\\n            \").concat(formatAttribution(img), \"\\n          </div>\\n        \") : '', \"\\n      </div>\\n    \");\n          }).join(''), \"\\n  \");\n\n          // Setup drag-and-drop for reordering\n          setupDragAndDrop(recipeId);\n        case 4:\n          return _context1.a(2);\n      }\n    }, _callee1);\n  }));\n  return _renderImageGallery.apply(this, arguments);\n}\nfunction formatAttribution(image) {\n  if (!image.attribution) return '';\n  var attr = image.attribution;\n\n  // Unsplash-specific format (required by their guidelines)\n  if (image.source === 'unsplash') {\n    return \"Photo by <a href=\\\"\".concat(attr.photographerUrl, \"\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\">\").concat(attr.photographer, \"</a> on <a href=\\\"https://unsplash.com/?utm_source=recipe_me&utm_medium=referral\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\">Unsplash</a>\");\n  }\n\n  // User-added attribution\n  if (attr.customCredit) {\n    return attr.customCredit;\n  }\n  var text = \"Photo by \".concat(attr.photographer);\n  if (attr.photographerUrl) {\n    text = \"<a href=\\\"\".concat(attr.photographerUrl, \"\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\">\").concat(text, \"</a>\");\n  }\n  return text;\n}\n\n/**\n * Format attribution as plain text (for title attribute)\n */\nfunction formatAttributionText(image) {\n  if (!image.attribution) return '';\n  var attr = image.attribution;\n  if (image.source === 'unsplash') {\n    return \"Photo by \".concat(attr.photographer, \" on Unsplash\");\n  }\n  if (attr.customCredit) {\n    return attr.customCredit;\n  }\n  return \"Photo by \".concat(attr.photographer);\n}\n\n/**\n * Edit attribution (only for user uploads, not Unsplash)\n */\nwindow.editAttribution = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee2(recipeId, imageId) {\n    var _recipe$images;\n    var recipes, recipe, image, attribution;\n    return _regenerator().w(function (_context2) {\n      while (1) switch (_context2.n) {\n        case 0:\n          _context2.n = 1;\n          return (0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.loadRecipes)();\n        case 1:\n          recipes = _context2.v;\n          recipe = recipes.find(function (r) {\n            return r.id === recipeId;\n          });\n          image = recipe === null || recipe === void 0 || (_recipe$images = recipe.images) === null || _recipe$images === void 0 ? void 0 : _recipe$images.find(function (img) {\n            return img.id === imageId;\n          });\n          if (image) {\n            _context2.n = 2;\n            break;\n          }\n          return _context2.a(2);\n        case 2:\n          if (!(image.source === 'unsplash')) {\n            _context2.n = 3;\n            break;\n          }\n          alert('Unsplash attribution cannot be edited or removed per their terms of use.');\n          return _context2.a(2);\n        case 3:\n          _context2.n = 4;\n          return showAttributionDialog(image.attribution);\n        case 4:\n          attribution = _context2.v;\n          if (!(attribution !== undefined)) {\n            _context2.n = 5;\n            break;\n          }\n          // undefined = cancelled\n          image.attribution = attribution;\n          recipe.updatedAt = new Date().toISOString();\n          (0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.saveRecipes)(recipes);\n          localStorage.setItem('editingRecipe', JSON.stringify(recipe));\n          _context2.n = 5;\n          return renderImageGallery(recipeId);\n        case 5:\n          return _context2.a(2);\n      }\n    }, _callee2);\n  }));\n  return function (_x8, _x9) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\n/**\n * Show attribution dialog\n */\nfunction showAttributionDialog(currentAttribution) {\n  return new Promise(function (resolve) {\n    var dialog = document.createElement('dialog');\n    dialog.className = 'attribution-dialog modal-dialog';\n    var hasAttribution = currentAttribution && currentAttribution.photographer;\n    dialog.innerHTML = \"\\n      <form id=\\\"attribution-form\\\">\\n        <h3>\".concat(hasAttribution ? 'Edit' : 'Add', \" Image Attribution</h3>\\n        <p class=\\\"hint\\\">Optional - add credit if this photo is from a photographer or requires attribution.</p>\\n        \\n        <div class=\\\"form-group\\\">\\n          <label for=\\\"photographer-name\\\">Photographer/Source Name:</label>\\n          <input \\n            type=\\\"text\\\" \\n            id=\\\"photographer-name\\\" \\n            placeholder=\\\"e.g., Jane Smith Photography\\\"\\n            value=\\\"\").concat((currentAttribution === null || currentAttribution === void 0 ? void 0 : currentAttribution.photographer) || '', \"\\\"\\n          >\\n        </div>\\n        \\n        <div class=\\\"form-group\\\">\\n          <label for=\\\"photographer-url\\\">Website/URL (optional):</label>\\n          <input \\n            type=\\\"url\\\" \\n            id=\\\"photographer-url\\\" \\n            placeholder=\\\"https://janesmith.com\\\"\\n            value=\\\"\").concat((currentAttribution === null || currentAttribution === void 0 ? void 0 : currentAttribution.photographerUrl) || '', \"\\\"\\n          >\\n        </div>\\n        \\n        <div class=\\\"form-group\\\">\\n          <label for=\\\"custom-credit\\\">Custom Credit Line (optional):</label>\\n          <input \\n            type=\\\"text\\\" \\n            id=\\\"custom-credit\\\" \\n            placeholder=\\\"e.g., Photography by Jane Smith\\\"\\n            value=\\\"\").concat((currentAttribution === null || currentAttribution === void 0 ? void 0 : currentAttribution.customCredit) || '', \"\\\"\\n          >\\n          <small>If blank, will auto-generate from photographer name</small>\\n        </div>\\n        \\n        <div class=\\\"button-group\\\">\\n          \").concat(hasAttribution ? \"\\n            <button type=\\\"button\\\" id=\\\"remove-attribution-btn\\\" class=\\\"btn-secondary\\\">\\n              Remove Attribution\\n            </button>\\n          \" : '', \"\\n          <button type=\\\"button\\\" id=\\\"cancel-btn\\\" class=\\\"btn-secondary\\\">\\n            Cancel\\n          </button>\\n          <button type=\\\"submit\\\" class=\\\"btn-primary\\\">\\n            Save\\n          </button>\\n        </div>\\n      </form>\\n    \");\n    document.body.appendChild(dialog);\n    dialog.showModal();\n    var form = dialog.querySelector('#attribution-form');\n    var photographerInput = dialog.querySelector('#photographer-name');\n    var urlInput = dialog.querySelector('#photographer-url');\n    var creditInput = dialog.querySelector('#custom-credit');\n    var cancelBtn = dialog.querySelector('#cancel-btn');\n    var removeBtn = dialog.querySelector('#remove-attribution-btn');\n    photographerInput.focus();\n    cancelBtn.addEventListener('click', function () {\n      dialog.close();\n      dialog.remove();\n      resolve(undefined); // undefined = cancelled\n    });\n    if (removeBtn) {\n      removeBtn.addEventListener('click', function () {\n        if (confirm('Remove attribution from this image?')) {\n          dialog.close();\n          dialog.remove();\n          resolve(null); // null = remove attribution\n        }\n      });\n    }\n    dialog.addEventListener('click', function (e) {\n      if (e.target === dialog) {\n        dialog.close();\n        dialog.remove();\n        resolve(undefined);\n      }\n    });\n    form.addEventListener('submit', function (e) {\n      e.preventDefault();\n      var photographer = photographerInput.value.trim();\n      var url = urlInput.value.trim();\n      var customCredit = creditInput.value.trim();\n      if (!photographer) {\n        dialog.close();\n        dialog.remove();\n        resolve(null); // No photographer = remove attribution\n        return;\n      }\n      var attribution = {\n        photographer: photographer,\n        photographerUrl: url || null,\n        customCredit: customCredit || null,\n        requiresAttribution: true,\n        canEdit: true\n      };\n      dialog.close();\n      dialog.remove();\n      resolve(attribution);\n    });\n  });\n}\n\n/**\n * Set featured image\n */\nwindow.setFeaturedImage = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee3(recipeId, imageId) {\n    var recipes, recipe, image;\n    return _regenerator().w(function (_context3) {\n      while (1) switch (_context3.n) {\n        case 0:\n          _context3.n = 1;\n          return (0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.loadRecipes)();\n        case 1:\n          recipes = _context3.v;\n          recipe = recipes.find(function (r) {\n            return r.id === recipeId;\n          });\n          if (!(!recipe || !recipe.images)) {\n            _context3.n = 2;\n            break;\n          }\n          return _context3.a(2);\n        case 2:\n          recipe.images.forEach(function (img) {\n            return img.isFeatured = false;\n          });\n          image = recipe.images.find(function (img) {\n            return img.id === imageId;\n          });\n          if (image) image.isFeatured = true;\n          recipe.updatedAt = new Date().toISOString();\n          (0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.saveRecipes)(recipes);\n          localStorage.setItem('editingRecipe', JSON.stringify(recipe));\n          _context3.n = 3;\n          return renderImageGallery(recipeId);\n        case 3:\n          return _context3.a(2);\n      }\n    }, _callee3);\n  }));\n  return function (_x0, _x1) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\n/**\n * Move image up\n */\nwindow.moveImageUp = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee4(recipeId, imageId) {\n    var recipes, recipe, index, temp;\n    return _regenerator().w(function (_context4) {\n      while (1) switch (_context4.n) {\n        case 0:\n          _context4.n = 1;\n          return (0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.loadRecipes)();\n        case 1:\n          recipes = _context4.v;\n          recipe = recipes.find(function (r) {\n            return r.id === recipeId;\n          });\n          if (!(!recipe || !recipe.images)) {\n            _context4.n = 2;\n            break;\n          }\n          return _context4.a(2);\n        case 2:\n          index = recipe.images.findIndex(function (img) {\n            return img.id === imageId;\n          });\n          if (!(index <= 0)) {\n            _context4.n = 3;\n            break;\n          }\n          return _context4.a(2);\n        case 3:\n          temp = recipe.images[index].order;\n          recipe.images[index].order = recipe.images[index - 1].order;\n          recipe.images[index - 1].order = temp;\n          recipe.updatedAt = new Date().toISOString();\n          (0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.saveRecipes)(recipes);\n          localStorage.setItem('editingRecipe', JSON.stringify(recipe));\n          _context4.n = 4;\n          return renderImageGallery(recipeId);\n        case 4:\n          return _context4.a(2);\n      }\n    }, _callee4);\n  }));\n  return function (_x10, _x11) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\n/**\n * Move image down\n */\nwindow.moveImageDown = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee5(recipeId, imageId) {\n    var recipes, recipe, index, temp;\n    return _regenerator().w(function (_context5) {\n      while (1) switch (_context5.n) {\n        case 0:\n          _context5.n = 1;\n          return (0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.loadRecipes)();\n        case 1:\n          recipes = _context5.v;\n          recipe = recipes.find(function (r) {\n            return r.id === recipeId;\n          });\n          if (!(!recipe || !recipe.images)) {\n            _context5.n = 2;\n            break;\n          }\n          return _context5.a(2);\n        case 2:\n          index = recipe.images.findIndex(function (img) {\n            return img.id === imageId;\n          });\n          if (!(index === -1 || index >= recipe.images.length - 1)) {\n            _context5.n = 3;\n            break;\n          }\n          return _context5.a(2);\n        case 3:\n          temp = recipe.images[index].order;\n          recipe.images[index].order = recipe.images[index + 1].order;\n          recipe.images[index + 1].order = temp;\n          recipe.updatedAt = new Date().toISOString();\n          (0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.saveRecipes)(recipes);\n          localStorage.setItem('editingRecipe', JSON.stringify(recipe));\n          _context5.n = 4;\n          return renderImageGallery(recipeId);\n        case 4:\n          return _context5.a(2);\n      }\n    }, _callee5);\n  }));\n  return function (_x12, _x13) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\n/**\n * Remove image\n */\nwindow.removeImage = /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee6(recipeId, imageId) {\n    var recipes, recipe, imageToRemove, registry, imageData, stillInUse, shouldDelete;\n    return _regenerator().w(function (_context6) {\n      while (1) switch (_context6.n) {\n        case 0:\n          if (confirm('Remove this image? This cannot be undone.')) {\n            _context6.n = 1;\n            break;\n          }\n          return _context6.a(2);\n        case 1:\n          _context6.n = 2;\n          return (0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.loadRecipes)();\n        case 2:\n          recipes = _context6.v;\n          recipe = recipes.find(function (r) {\n            return r.id === recipeId;\n          });\n          if (!(!recipe || !recipe.images)) {\n            _context6.n = 3;\n            break;\n          }\n          return _context6.a(2);\n        case 3:\n          imageToRemove = recipe.images.find(function (img) {\n            return img.id === imageId;\n          }); // âœ… Unregister from global registry\n          if (imageToRemove !== null && imageToRemove !== void 0 && imageToRemove.fileHash) {\n            (0,_globalImageRegistry_js__WEBPACK_IMPORTED_MODULE_4__.unregisterImageFromRecipe)(imageToRemove.fileHash, recipeId);\n          }\n\n          // Check if other recipes still use this image\n          registry = (0,_globalImageRegistry_js__WEBPACK_IMPORTED_MODULE_4__.getImageRegistry)();\n          imageData = registry[imageToRemove === null || imageToRemove === void 0 ? void 0 : imageToRemove.fileHash];\n          stillInUse = (imageData === null || imageData === void 0 ? void 0 : imageData.usedByRecipes.length) > 0; // Only delete from Cloudinary if no other recipe uses it\n          if (!stillInUse && (imageToRemove === null || imageToRemove === void 0 ? void 0 : imageToRemove.source) === 'user-upload' && imageToRemove.cloudinaryPublicId) {\n            shouldDelete = confirm('This image is not used by any other recipe.\\n\\n' + 'Delete from Cloudinary? (Saves storage)');\n            if (shouldDelete) {\n              showUploadStatus('Deleting from Cloudinary...', 'uploading');\n              // TODO: Implement Cloudinary deletion\n              // await deleteFromCloudinary(imageToRemove.cloudinaryPublicId);\n              console.log('ðŸ—‘ï¸ Would delete:', imageToRemove.cloudinaryPublicId);\n            }\n          } else if (stillInUse) {\n            console.log(\"\\u267B\\uFE0F Image still used by \".concat(imageData.usedByRecipes.length, \" recipe(s), keeping in Cloudinary\"));\n          }\n\n          // Remove from recipe\n          recipe.images = recipe.images.filter(function (img) {\n            return img.id !== imageId;\n          });\n\n          // Reorder remaining images\n          recipe.images.sort(function (a, b) {\n            return a.order - b.order;\n          });\n          recipe.images.forEach(function (img, index) {\n            return img.order = index;\n          });\n\n          // If removed image was featured, set first image as featured\n          if (recipe.images.length > 0 && !recipe.images.some(function (img) {\n            return img.isFeatured;\n          })) {\n            recipe.images[0].isFeatured = true;\n          }\n          recipe.updatedAt = new Date().toISOString();\n          (0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.saveRecipes)(recipes);\n          localStorage.setItem('editingRecipe', JSON.stringify(recipe));\n          _context6.n = 4;\n          return renderImageGallery(recipeId);\n        case 4:\n          showUploadStatus('Image removed', 'success');\n        case 5:\n          return _context6.a(2);\n      }\n    }, _callee6);\n  }));\n  return function (_x14, _x15) {\n    return _ref6.apply(this, arguments);\n  };\n}();\n\n/**\n * Setup drag-and-drop reordering\n */\nfunction setupDragAndDrop(recipeId) {\n  var imageCards = document.querySelectorAll('.image-card');\n  var draggedElement = null;\n  imageCards.forEach(function (card) {\n    card.addEventListener('dragstart', function (e) {\n      draggedElement = card;\n      card.classList.add('dragging');\n    });\n    card.addEventListener('dragend', function () {\n      card.classList.remove('dragging');\n    });\n    card.addEventListener('dragover', function (e) {\n      e.preventDefault();\n      var afterElement = getDragAfterElement(card.parentElement, e.clientY);\n      if (afterElement == null) {\n        card.parentElement.appendChild(draggedElement);\n      } else {\n        card.parentElement.insertBefore(draggedElement, afterElement);\n      }\n    });\n    card.addEventListener('drop', /*#__PURE__*/function () {\n      var _ref7 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee7(e) {\n        return _regenerator().w(function (_context7) {\n          while (1) switch (_context7.n) {\n            case 0:\n              e.preventDefault();\n              _context7.n = 1;\n              return reorderImagesAfterDrag(recipeId);\n            case 1:\n              return _context7.a(2);\n          }\n        }, _callee7);\n      }));\n      return function (_x16) {\n        return _ref7.apply(this, arguments);\n      };\n    }());\n  });\n}\n\n/**\n * Get element to insert dragged item after\n */\nfunction getDragAfterElement(container, y) {\n  var draggableElements = _toConsumableArray(container.querySelectorAll('.image-card:not(.dragging)'));\n  return draggableElements.reduce(function (closest, child) {\n    var box = child.getBoundingClientRect();\n    var offset = y - box.top - box.height / 2;\n    if (offset < 0 && offset > closest.offset) {\n      return {\n        offset: offset,\n        element: child\n      };\n    } else {\n      return closest;\n    }\n  }, {\n    offset: Number.NEGATIVE_INFINITY\n  }).element;\n}\n\n/**\n * Save new order after drag-and-drop\n */\nfunction reorderImagesAfterDrag(_x17) {\n  return _reorderImagesAfterDrag.apply(this, arguments);\n}\n/**\n * Show upload status\n */\nfunction _reorderImagesAfterDrag() {\n  _reorderImagesAfterDrag = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee10(recipeId) {\n    var recipes, recipe, imageCards, newOrder;\n    return _regenerator().w(function (_context10) {\n      while (1) switch (_context10.n) {\n        case 0:\n          _context10.n = 1;\n          return (0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.loadRecipes)();\n        case 1:\n          recipes = _context10.v;\n          recipe = recipes.find(function (r) {\n            return r.id === recipeId;\n          });\n          if (!(!recipe || !recipe.images)) {\n            _context10.n = 2;\n            break;\n          }\n          return _context10.a(2);\n        case 2:\n          imageCards = document.querySelectorAll('.image-card');\n          newOrder = Array.from(imageCards).map(function (card) {\n            return card.dataset.imageId;\n          });\n          newOrder.forEach(function (imageId, index) {\n            var img = recipe.images.find(function (i) {\n              return i.id === imageId;\n            });\n            if (img) img.order = index;\n          });\n          recipe.updatedAt = new Date().toISOString();\n          (0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.saveRecipes)(recipes);\n          localStorage.setItem('editingRecipe', JSON.stringify(recipe));\n        case 3:\n          return _context10.a(2);\n      }\n    }, _callee10);\n  }));\n  return _reorderImagesAfterDrag.apply(this, arguments);\n}\nfunction showUploadStatus(message, type) {\n  var statusDiv = document.getElementById('upload-status');\n  if (!statusDiv) return;\n  statusDiv.textContent = message;\n  statusDiv.className = \"upload-status-\".concat(type);\n  if (type === 'success' || type === 'error') {\n    setTimeout(function () {\n      statusDiv.textContent = '';\n      statusDiv.className = '';\n    }, 3000);\n  }\n}\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDLGVBQWUsRUFBRUMsSUFBSSxDQUFDQyxTQUFTLENBQUMvRixNQUFNLENBQUMsQ0FBQztRQUFDO1VBQUEsT0FBQXlOLFVBQUEsQ0FBQTVSLENBQUE7TUFBQTtJQUFBLEdBQUEwUixTQUFBO0VBQUEsQ0FDL0Q7RUFBQSxPQUFBRCx1QkFBQSxDQUFBM1AsS0FBQSxPQUFBRCxTQUFBO0FBQUE7QUFLRCxTQUFTc0QsZ0JBQWdCQSxDQUFDNEIsT0FBTyxFQUFFOUIsSUFBSSxFQUFFO0VBQ3ZDLElBQU0rTSxTQUFTLEdBQUc5TyxRQUFRLENBQUNDLGNBQWMsQ0FBQyxlQUFlLENBQUM7RUFDMUQsSUFBSSxDQUFDNk8sU0FBUyxFQUFFO0VBRWhCQSxTQUFTLENBQUNDLFdBQVcsR0FBR2xMLE9BQU87RUFDL0JpTCxTQUFTLENBQUN0RixTQUFTLG9CQUFBbEgsTUFBQSxDQUFvQlAsSUFBSSxDQUFFO0VBRTdDLElBQUlBLElBQUksS0FBSyxTQUFTLElBQUlBLElBQUksS0FBSyxPQUFPLEVBQUU7SUFDMUNpTixVQUFVLENBQUMsWUFBTTtNQUNmRixTQUFTLENBQUNDLFdBQVcsR0FBRyxFQUFFO01BQzFCRCxTQUFTLENBQUN0RixTQUFTLEdBQUcsRUFBRTtJQUMxQixDQUFDLEVBQUUsSUFBSSxDQUFDO0VBQ1Y7QUFDRixDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVjaXBlLW1lLXdlYnBhY2s1Ly4vc3JjL2hlbHBlcnMvaW1hZ2VHYWxsZXJ5LmpzPzA3NDYiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2hlbHBlcnMvaW1hZ2VHYWxsZXJ5LmpzXG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tICd1dWlkJztcbmltcG9ydCB7IGxvYWRSZWNpcGVzLCBzYXZlUmVjaXBlcyB9IGZyb20gJy4uL2Z1bmN0aW9ucy5qcyc7XG5pbXBvcnQgeyBvcHRpbWl6ZUltYWdlLCBJTUFHRV9QUkVTRVRTIH0gZnJvbSAnLi9pbWFnZU9wdGltaXplci5qcyc7XG5pbXBvcnQgeyBnZW5lcmF0ZUZpbGVIYXNoLCBjaGVja0R1cGxpY2F0ZUJ5RmlsZW5hbWUgfSBmcm9tICcuL2R1cGxpY2F0ZUNoZWNrLmpzJztcbmltcG9ydCB7IGZpbmRFeGlzdGluZ0ltYWdlLCByZWdpc3RlckltYWdlLCB1bnJlZ2lzdGVySW1hZ2VGcm9tUmVjaXBlLCBnZXRJbWFnZVJlZ2lzdHJ5IH0gZnJvbSAnLi9nbG9iYWxJbWFnZVJlZ2lzdHJ5LmpzJztcblxuY29uc3QgQ0xPVURJTkFSWV9DTE9VRF9OQU1FID0gJ2RheTFmNW56OCc7XG5jb25zdCBDTE9VRElOQVJZX1VQTE9BRF9QUkVTRVQgPSAncmVjaXBlX2ltYWdlcyc7XG5cbi8qKlxuICogU2V0dXAgaW1hZ2UgZ2FsbGVyeSB3aXRoIHVwbG9hZCwgb3JkZXJpbmcsIGFuZCBmZWF0dXJlIHNlbGVjdGlvblxuICogQHBhcmFtIHtzdHJpbmd9IHJlY2lwZUlkIC0gQ3VycmVudCByZWNpcGUgSURcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldHVwSW1hZ2VHYWxsZXJ5KHJlY2lwZUlkKSB7XG4gIGNvbnN0IHVwbG9hZElucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nsb3VkaW5hcnktdXBsb2FkJyk7XG4gIFxuICBpZiAoIXVwbG9hZElucHV0KSB7XG4gICAgY29uc29sZS53YXJuKCdJbWFnZSB1cGxvYWQgaW5wdXQgbm90IGZvdW5kJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gSGFuZGxlIENsb3VkaW5hcnkgdXBsb2FkXG4gIHVwbG9hZElucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGFzeW5jIChlKSA9PiB7XG4gICAgY29uc3QgZmlsZSA9IGUudGFyZ2V0LmZpbGVzWzBdO1xuICAgIGlmICghZmlsZSkgcmV0dXJuO1xuXG4gICAgLy8g4p2MIEJsb2NrIHZpZGVvIGZpbGUgdXBsb2Fkc1xuICAgIGlmIChmaWxlLnR5cGUuc3RhcnRzV2l0aCgndmlkZW8vJykpIHtcbiAgICAgIHNob3dVcGxvYWRTdGF0dXMoJ+KdjCBWaWRlbyBmaWxlcyBub3Qgc3VwcG9ydGVkLiBQbGVhc2UgdXBsb2FkIHRvIFlvdVR1YmUgYW5kIHBhc3RlIHRoZSBsaW5rIGluc3RlYWQuJywgJ2Vycm9yJyk7XG4gICAgICB1cGxvYWRJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIGltYWdlIHR5cGVcbiAgICBpZiAoIWZpbGUudHlwZS5zdGFydHNXaXRoKCdpbWFnZS8nKSkge1xuICAgICAgc2hvd1VwbG9hZFN0YXR1cygnUGxlYXNlIHNlbGVjdCBhbiBpbWFnZSBmaWxlJywgJ2Vycm9yJyk7XG4gICAgICB1cGxvYWRJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIG9yaWdpbmFsIGZpbGUgc2l6ZSAoYWxsb3cgdXAgdG8gMjBNQiBvcmlnaW5hbHMpXG4gICAgaWYgKGZpbGUuc2l6ZSA+IDIwICogMTAyNCAqIDEwMjQpIHtcbiAgICAgIHNob3dVcGxvYWRTdGF0dXMoJ0ltYWdlIG11c3QgYmUgc21hbGxlciB0aGFuIDIwTUInLCAnZXJyb3InKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgc2hvd1VwbG9hZFN0YXR1cygnQ2hlY2tpbmcgZm9yIGR1cGxpY2F0ZXMuLi4nLCAndXBsb2FkaW5nJyk7XG4gICAgICBcbiAgICAgIC8vIE9wdGltaXplIGZpcnN0IChzbyBoYXNoIG1hdGNoZXMgd2hhdCdzIHN0b3JlZClcbiAgICAgIGNvbnN0IG9wdGltaXplZEJsb2IgPSBhd2FpdCBvcHRpbWl6ZUltYWdlKGZpbGUsIElNQUdFX1BSRVNFVFMucmVjaXBlSGVybyk7XG4gICAgICBcbiAgICAgIC8vIOKchSBHZW5lcmF0ZSBoYXNoIG9mIG9wdGltaXplZCBpbWFnZVxuICAgICAgY29uc3QgZmlsZUhhc2ggPSBhd2FpdCBnZW5lcmF0ZUZpbGVIYXNoKG9wdGltaXplZEJsb2IpO1xuICAgICAgXG4gICAgICAvLyDinIUgQ2hlY2sgR0xPQkFMIHJlZ2lzdHJ5IChhbGwgcmVjaXBlcylcbiAgICAgIGNvbnN0IGV4aXN0aW5nSW1hZ2UgPSBmaW5kRXhpc3RpbmdJbWFnZShmaWxlSGFzaCk7XG4gICAgICBcbiAgICAgIGlmIChleGlzdGluZ0ltYWdlKSB7XG4gICAgICAgIGNvbnN0IHVzZWRJblJlY2lwZXMgPSBleGlzdGluZ0ltYWdlLnVzZWRCeVJlY2lwZXMubGVuZ3RoO1xuICAgICAgICBjb25zdCBzaG91bGRSZXVzZSA9IGNvbmZpcm0oXG4gICAgICAgICAgYOKchSBUaGlzIGltYWdlIGFscmVhZHkgZXhpc3RzIVxcblxcbmAgK1xuICAgICAgICAgIGBGaWxlOiAke2V4aXN0aW5nSW1hZ2UubWV0YWRhdGE/Lm9yaWdpbmFsRmlsZW5hbWUgfHwgJ1Vua25vd24nfVxcbmAgK1xuICAgICAgICAgIGBVc2VkIGluOiAke3VzZWRJblJlY2lwZXN9IHJlY2lwZShzKVxcbmAgK1xuICAgICAgICAgIGBVcGxvYWRlZDogJHtuZXcgRGF0ZShleGlzdGluZ0ltYWdlLnVwbG9hZGVkQXQpLnRvTG9jYWxlRGF0ZVN0cmluZygpfVxcblxcbmAgK1xuICAgICAgICAgIGBSZXVzZSBleGlzdGluZyBpbWFnZT8gKFNhdmVzIGJhbmR3aWR0aCAmIHN0b3JhZ2UpYFxuICAgICAgICApO1xuICAgICAgICBcbiAgICAgICAgaWYgKHNob3VsZFJldXNlKSB7XG4gICAgICAgICAgLy8g4pyFIFJldXNlIGV4aXN0aW5nIGltYWdlXG4gICAgICAgICAgY29uc29sZS5sb2coJ+KZu++4jyBSZXVzaW5nIGV4aXN0aW5nIGltYWdlOicsIGV4aXN0aW5nSW1hZ2UudXJsKTtcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCBpbWFnZURhdGEgPSB7XG4gICAgICAgICAgICB1cmw6IGV4aXN0aW5nSW1hZ2UudXJsLFxuICAgICAgICAgICAgc291cmNlOiAndXNlci11cGxvYWQnLFxuICAgICAgICAgICAgY2xvdWRpbmFyeVB1YmxpY0lkOiBleGlzdGluZ0ltYWdlLmNsb3VkaW5hcnlQdWJsaWNJZCxcbiAgICAgICAgICAgIGZpbGVIYXNoOiBmaWxlSGFzaCxcbiAgICAgICAgICAgIGF0dHJpYnV0aW9uOiBudWxsLFxuICAgICAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICAgICAgdXBsb2FkZWRBdDogZXhpc3RpbmdJbWFnZS51cGxvYWRlZEF0LFxuICAgICAgICAgICAgICBvcmlnaW5hbEZpbGVuYW1lOiBmaWxlLm5hbWUsXG4gICAgICAgICAgICAgIHJldXNlZEZyb206IGV4aXN0aW5nSW1hZ2UubWV0YWRhdGE/Lm9yaWdpbmFsRmlsZW5hbWUsXG4gICAgICAgICAgICAgIG9yaWdpbmFsU2l6ZTogZmlsZS5zaXplLFxuICAgICAgICAgICAgICBvcHRpbWl6ZWRTaXplOiBvcHRpbWl6ZWRCbG9iLnNpemVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgIFxuICAgICAgICAgIGF3YWl0IGFkZEltYWdlVG9SZWNpcGUocmVjaXBlSWQsIGltYWdlRGF0YSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gUmVnaXN0ZXIgdGhpcyByZWNpcGUgYXMgdXNpbmcgdGhlIGltYWdlXG4gICAgICAgICAgcmVnaXN0ZXJJbWFnZShmaWxlSGFzaCwgZXhpc3RpbmdJbWFnZSwgcmVjaXBlSWQpO1xuICAgICAgICAgIFxuICAgICAgICAgIGF3YWl0IHJlbmRlckltYWdlR2FsbGVyeShyZWNpcGVJZCk7XG4gICAgICAgICAgc2hvd1VwbG9hZFN0YXR1cygn4pyTIEltYWdlIHJldXNlZCEgKE5vIHVwbG9hZCBuZWVkZWQpJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICB1cGxvYWRJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBOb3QgcmV1c2luZywgY2hlY2sgZm9yIGR1cGxpY2F0ZSBieSBmaWxlbmFtZSB3aXRoaW4gdGhpcyByZWNpcGVcbiAgICAgIGNvbnN0IHJlY2lwZXMgPSBhd2FpdCBsb2FkUmVjaXBlcygpO1xuICAgICAgY29uc3QgcmVjaXBlID0gcmVjaXBlcy5maW5kKHIgPT4gci5pZCA9PT0gcmVjaXBlSWQpO1xuICAgICAgXG4gICAgICBpZiAocmVjaXBlICYmIHJlY2lwZS5pbWFnZXMpIHtcbiAgICAgICAgY29uc3QgZHVwbGljYXRlQnlOYW1lID0gY2hlY2tEdXBsaWNhdGVCeUZpbGVuYW1lKGZpbGUubmFtZSwgcmVjaXBlLmltYWdlcyk7XG4gICAgICAgIFxuICAgICAgICBpZiAoZHVwbGljYXRlQnlOYW1lKSB7XG4gICAgICAgICAgY29uc3Qgc2hvdWxkQ29udGludWUgPSBjb25maXJtKFxuICAgICAgICAgICAgYOKaoO+4jyBBbiBpbWFnZSBuYW1lZCBcIiR7ZmlsZS5uYW1lfVwiIGFscmVhZHkgZXhpc3RzIGluIHRoaXMgcmVjaXBlLlxcblxcbmAgK1xuICAgICAgICAgICAgYERvIHlvdSB3YW50IHRvIHVwbG9hZCBpdCBhbnl3YXk/YFxuICAgICAgICAgICk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKCFzaG91bGRDb250aW51ZSkge1xuICAgICAgICAgICAgdXBsb2FkSW5wdXQudmFsdWUgPSAnJztcbiAgICAgICAgICAgIHNob3dVcGxvYWRTdGF0dXMoJ1VwbG9hZCBjYW5jZWxsZWQgLSBkdXBsaWNhdGUgZGV0ZWN0ZWQnLCAnZXJyb3InKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gUHJvY2VlZCB3aXRoIG5ldyB1cGxvYWRcbiAgICAgIGNvbnN0IG9yaWdpbmFsU2l6ZSA9IChmaWxlLnNpemUgLyAxMDI0KS50b0ZpeGVkKDApO1xuICAgICAgY29uc3Qgb3B0aW1pemVkU2l6ZSA9IChvcHRpbWl6ZWRCbG9iLnNpemUgLyAxMDI0KS50b0ZpeGVkKDApO1xuICAgICAgY29uc3Qgc2F2aW5ncyA9IE1hdGgucm91bmQoKDEgLSBvcHRpbWl6ZWRCbG9iLnNpemUgLyBmaWxlLnNpemUpICogMTAwKTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coYPCfk4kgU2l6ZSByZWR1Y3Rpb246ICR7b3JpZ2luYWxTaXplfUtCIOKGkiAke29wdGltaXplZFNpemV9S0IgKCR7c2F2aW5nc30lIHNtYWxsZXIpYCk7XG4gICAgICBcbiAgICAgIHNob3dVcGxvYWRTdGF0dXMoJ1VwbG9hZGluZyBvcHRpbWl6ZWQgaW1hZ2UuLi4nLCAndXBsb2FkaW5nJyk7XG4gICAgICBcbiAgICAgIC8vIFVwbG9hZCB0byBDbG91ZGluYXJ5XG4gICAgICBjb25zdCB7IHVybCwgcHVibGljSWQgfSA9IGF3YWl0IHVwbG9hZFRvQ2xvdWRpbmFyeShvcHRpbWl6ZWRCbG9iLCBmaWxlLm5hbWUpO1xuICAgICAgXG4gICAgICBjb25zdCBpbWFnZURhdGEgPSB7XG4gICAgICAgIHVybCxcbiAgICAgICAgc291cmNlOiAndXNlci11cGxvYWQnLFxuICAgICAgICBjbG91ZGluYXJ5UHVibGljSWQ6IHB1YmxpY0lkLFxuICAgICAgICBmaWxlSGFzaDogZmlsZUhhc2gsXG4gICAgICAgIGF0dHJpYnV0aW9uOiBudWxsLFxuICAgICAgICBtZXRhZGF0YToge1xuICAgICAgICAgIHVwbG9hZGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICBvcmlnaW5hbEZpbGVuYW1lOiBmaWxlLm5hbWUsXG4gICAgICAgICAgb3JpZ2luYWxTaXplOiBmaWxlLnNpemUsXG4gICAgICAgICAgb3B0aW1pemVkU2l6ZTogb3B0aW1pemVkQmxvYi5zaXplXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBcbiAgICAgIC8vIOKchSBSZWdpc3RlciBpbiBnbG9iYWwgcmVnaXN0cnlcbiAgICAgIHJlZ2lzdGVySW1hZ2UoZmlsZUhhc2gsIGltYWdlRGF0YSwgcmVjaXBlSWQpO1xuICAgICAgXG4gICAgICAvLyBBZGQgdG8gcmVjaXBlXG4gICAgICBhd2FpdCBhZGRJbWFnZVRvUmVjaXBlKHJlY2lwZUlkLCBpbWFnZURhdGEpO1xuICAgICAgXG4gICAgICBhd2FpdCByZW5kZXJJbWFnZUdhbGxlcnkocmVjaXBlSWQpO1xuICAgICAgc2hvd1VwbG9hZFN0YXR1cyhg4pyTIEltYWdlIGFkZGVkISAoU2F2ZWQgJHtzYXZpbmdzfSUgYmFuZHdpZHRoKWAsICdzdWNjZXNzJyk7XG4gICAgICB1cGxvYWRJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1VwbG9hZCBmYWlsZWQ6JywgZXJyb3IpO1xuICAgICAgc2hvd1VwbG9hZFN0YXR1cyhg4pyXIFVwbG9hZCBmYWlsZWQ6ICR7ZXJyb3IubWVzc2FnZX1gLCAnZXJyb3InKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIEluaXRpYWwgcmVuZGVyXG4gIHJlbmRlckltYWdlR2FsbGVyeShyZWNpcGVJZCk7XG59XG5cbi8qKlxuICogQWRkIGltYWdlIGZyb20gVW5zcGxhc2ggKGNhbGxlZCBmcm9tIGZlYXR1cmVJbWFnZS5qcylcbiAqIEFMV0FZUyBpbmNsdWRlcyBhdHRyaWJ1dGlvbiAoVW5zcGxhc2ggcmVxdWlyZW1lbnQpXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVjaXBlSWQgXG4gKiBAcGFyYW0ge09iamVjdH0gaW1hZ2VEYXRhIFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYWRkVW5zcGxhc2hJbWFnZShyZWNpcGVJZCwgaW1hZ2VEYXRhKSB7XG4gIGF3YWl0IGFkZEltYWdlVG9SZWNpcGUocmVjaXBlSWQsIHtcbiAgICB1cmw6IGltYWdlRGF0YS51cmwsXG4gICAgc291cmNlOiAndW5zcGxhc2gnLFxuICAgIGNsb3VkaW5hcnlQdWJsaWNJZDogbnVsbCxcbiAgICBhdHRyaWJ1dGlvbjoge1xuICAgICAgcGhvdG9ncmFwaGVyOiBpbWFnZURhdGEucGhvdG9ncmFwaGVyLFxuICAgICAgcGhvdG9ncmFwaGVyVXJsOiBpbWFnZURhdGEucGhvdG9ncmFwaGVyTGluaywgLy8gSW5jbHVkZXMgVVRNIHBhcmFtc1xuICAgICAgcmVxdWlyZXNBdHRyaWJ1dGlvbjogdHJ1ZSxcbiAgICAgIGNhbkVkaXQ6IGZhbHNlIC8vIENhbm5vdCBlZGl0L3JlbW92ZSBVbnNwbGFzaCBhdHRyaWJ1dGlvblxuICAgIH1cbiAgfSk7XG4gIFxuICBhd2FpdCByZW5kZXJJbWFnZUdhbGxlcnkocmVjaXBlSWQpO1xufVxuXG4vKipcbiAqIFVwbG9hZCB0byBDbG91ZGluYXJ5IC0gcmV0dXJucyBVUkwgYW5kIHB1YmxpY0lkXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHVwbG9hZFRvQ2xvdWRpbmFyeShmaWxlT3JCbG9iLCBmaWxlbmFtZSA9ICdpbWFnZS5qcGcnKSB7XG4gIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gIFxuICAvLyBDb252ZXJ0IGJsb2IgdG8gZmlsZSB3aXRoIHByb3BlciBuYW1lXG4gIGlmIChmaWxlT3JCbG9iIGluc3RhbmNlb2YgQmxvYiAmJiAhKGZpbGVPckJsb2IgaW5zdGFuY2VvZiBGaWxlKSkge1xuICAgIGNvbnN0IGZpbGUgPSBuZXcgRmlsZShbZmlsZU9yQmxvYl0sIGZpbGVuYW1lLCB7IHR5cGU6IGZpbGVPckJsb2IudHlwZSB9KTtcbiAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCBmaWxlKTtcbiAgfSBlbHNlIHtcbiAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCBmaWxlT3JCbG9iKTtcbiAgfVxuICBcbiAgZm9ybURhdGEuYXBwZW5kKCd1cGxvYWRfcHJlc2V0JywgQ0xPVURJTkFSWV9VUExPQURfUFJFU0VUKTtcbiAgZm9ybURhdGEuYXBwZW5kKCdmb2xkZXInLCAncmVjaXBlcycpO1xuXG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgYGh0dHBzOi8vYXBpLmNsb3VkaW5hcnkuY29tL3YxXzEvJHtDTE9VRElOQVJZX0NMT1VEX05BTUV9L2ltYWdlL3VwbG9hZGAsXG4gICAge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBib2R5OiBmb3JtRGF0YVxuICAgIH1cbiAgKTtcblxuICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgY29uc3QgZXJyb3IgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgdGhyb3cgbmV3IEVycm9yKGVycm9yLmVycm9yPy5tZXNzYWdlIHx8ICdVcGxvYWQgZmFpbGVkJyk7XG4gIH1cblxuICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICBcbiAgcmV0dXJuIHtcbiAgICB1cmw6IGRhdGEuc2VjdXJlX3VybC5yZXBsYWNlKCcvdXBsb2FkLycsICcvdXBsb2FkL3FfYXV0byxmX2F1dG8vJyksXG4gICAgcHVibGljSWQ6IGRhdGEucHVibGljX2lkXG4gIH07XG59XG5cbi8qKlxuICogQWRkIGltYWdlIHRvIHJlY2lwZVxuICovXG5hc3luYyBmdW5jdGlvbiBhZGRJbWFnZVRvUmVjaXBlKHJlY2lwZUlkLCBpbWFnZURhdGEpIHtcbiAgY29uc3QgcmVjaXBlcyA9IGF3YWl0IGxvYWRSZWNpcGVzKCk7XG4gIGNvbnN0IHJlY2lwZSA9IHJlY2lwZXMuZmluZChyID0+IHIuaWQgPT09IHJlY2lwZUlkKTtcbiAgaWYgKCFyZWNpcGUpIHJldHVybjtcblxuICAvLyBJbml0aWFsaXplIGltYWdlcyBhcnJheSBpZiBuZWVkZWRcbiAgaWYgKCFyZWNpcGUuaW1hZ2VzKSB7XG4gICAgcmVjaXBlLmltYWdlcyA9IFtdO1xuICB9XG5cbiAgLy8gQ3JlYXRlIG5ldyBpbWFnZSBvYmplY3RcbiAgY29uc3QgbmV3SW1hZ2UgPSB7XG4gICAgaWQ6IHV1aWR2NCgpLFxuICAgIHVybDogaW1hZ2VEYXRhLnVybCxcbiAgICBzb3VyY2U6IGltYWdlRGF0YS5zb3VyY2UsXG4gICAgaXNGZWF0dXJlZDogcmVjaXBlLmltYWdlcy5sZW5ndGggPT09IDAsIC8vIEZpcnN0IGltYWdlIGlzIGZlYXR1cmVkXG4gICAgb3JkZXI6IHJlY2lwZS5pbWFnZXMubGVuZ3RoLFxuICAgIGNsb3VkaW5hcnlQdWJsaWNJZDogaW1hZ2VEYXRhLmNsb3VkaW5hcnlQdWJsaWNJZCB8fCBudWxsLFxuICAgIGZpbGVIYXNoOiBpbWFnZURhdGEuZmlsZUhhc2ggfHwgbnVsbCxcbiAgICBhdHRyaWJ1dGlvbjogaW1hZ2VEYXRhLmF0dHJpYnV0aW9uIHx8IG51bGwsXG4gICAgbWV0YWRhdGE6IGltYWdlRGF0YS5tZXRhZGF0YSB8fCBudWxsXG4gIH07XG5cbiAgcmVjaXBlLmltYWdlcy5wdXNoKG5ld0ltYWdlKTtcbiAgcmVjaXBlLnVwZGF0ZWRBdCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgXG4gIHNhdmVSZWNpcGVzKHJlY2lwZXMpO1xuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZWRpdGluZ1JlY2lwZScsIEpTT04uc3RyaW5naWZ5KHJlY2lwZSkpO1xufVxuXG4vKipcbiAqIFJlbmRlciB0aGUgaW1hZ2UgZ2FsbGVyeVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVuZGVySW1hZ2VHYWxsZXJ5KHJlY2lwZUlkKSB7XG4gIGNvbnN0IHJlY2lwZXMgPSBhd2FpdCBsb2FkUmVjaXBlcygpO1xuICBjb25zdCByZWNpcGUgPSByZWNpcGVzLmZpbmQociA9PiByLmlkID09PSByZWNpcGVJZCk7XG4gIGNvbnN0IGdhbGxlcnkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1hZ2UtZ2FsbGVyeScpO1xuICBjb25zdCBub0ltYWdlc01zZyA9IGdhbGxlcnk/LnF1ZXJ5U2VsZWN0b3IoJy5uby1pbWFnZXMnKTtcbiAgXG4gIGlmICghcmVjaXBlIHx8ICFnYWxsZXJ5KSByZXR1cm47XG5cbiAgLy8gU2hvdy9oaWRlIG5vIGltYWdlcyBtZXNzYWdlXG4gIGlmICghcmVjaXBlLmltYWdlcyB8fCByZWNpcGUuaW1hZ2VzLmxlbmd0aCA9PT0gMCkge1xuICAgIGlmIChub0ltYWdlc01zZykgbm9JbWFnZXNNc2cuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgZ2FsbGVyeS5pbm5lckhUTUwgPSAnPHAgY2xhc3M9XCJuby1pbWFnZXNcIj5ObyBpbWFnZXMgeWV0LiBVcGxvYWQgb3Igc2VhcmNoIHRvIGFkZCBpbWFnZXMuPC9wPic7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKG5vSW1hZ2VzTXNnKSBub0ltYWdlc01zZy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gIC8vIFNvcnQgaW1hZ2VzIGJ5IG9yZGVyXG4gIGNvbnN0IHNvcnRlZEltYWdlcyA9IFsuLi5yZWNpcGUuaW1hZ2VzXS5zb3J0KChhLCBiKSA9PiBhLm9yZGVyIC0gYi5vcmRlcik7XG5cbiAgZ2FsbGVyeS5pbm5lckhUTUwgPSBgXG4gICAgJHtzb3J0ZWRJbWFnZXMubWFwKGltZyA9PiBgXG4gICAgICA8ZGl2IGNsYXNzPVwiaW1hZ2UtY2FyZFwiIGRhdGEtaW1hZ2UtaWQ9XCIke2ltZy5pZH1cIiBkcmFnZ2FibGU9XCJ0cnVlXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJpbWFnZS1wcmV2aWV3XCI+XG4gICAgICAgICAgPGltZyBzcmM9XCIke2ltZy51cmx9XCIgYWx0PVwiUmVjaXBlIGltYWdlXCI+XG4gICAgICAgICAgJHtpbWcuaXNGZWF0dXJlZCA/ICc8ZGl2IGNsYXNzPVwiZmVhdHVyZWQtYmFkZ2VcIj48aSBjbGFzcz1cImZhLXNvbGlkIGZhLXN0YXJcIj48L2k+IEZlYXR1cmVkPC9kaXY+JyA6ICcnfVxuICAgICAgICAgIFxuICAgICAgICAgICR7aW1nLnNvdXJjZSA9PT0gJ3Vuc3BsYXNoJyA/IGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzb3VyY2UtYmFkZ2UgdW5zcGxhc2gtYmFkZ2VcIiB0aXRsZT1cIkZyb20gVW5zcGxhc2hcIj5cbiAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYS1zb2xpZCBmYS1pbWFnZVwiPjwvaT4gVW5zcGxhc2hcbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIGAgOiBpbWcuYXR0cmlidXRpb24gPyBgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwic291cmNlLWJhZGdlIGF0dHJpYnV0aW9uLWJhZGdlXCIgdGl0bGU9XCIke2Zvcm1hdEF0dHJpYnV0aW9uVGV4dChpbWcpfVwiPlxuICAgICAgICAgICAgICA8aSBjbGFzcz1cImZhLXNvbGlkIGZhLWNvcHlyaWdodFwiPjwvaT4gQ3JlZGl0XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBgIDogaW1nLm1ldGFkYXRhPy5yZXVzZWRGcm9tID8gYFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNvdXJjZS1iYWRnZSByZXVzZWQtYmFkZ2VcIiB0aXRsZT1cIlJldXNlZCBmcm9tOiAke2ltZy5tZXRhZGF0YS5yZXVzZWRGcm9tfVwiPlxuICAgICAgICAgICAgICA8aSBjbGFzcz1cImZhLXNvbGlkIGZhLXJlY3ljbGVcIj48L2k+IFJldXNlZFxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgYCA6ICcnfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJpbWFnZS1hY3Rpb25zXCI+XG4gICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgIGNsYXNzPVwiYnRuLXNtYWxsICR7aW1nLmlzRmVhdHVyZWQgPyAnYWN0aXZlJyA6ICcnfVwiIFxuICAgICAgICAgICAgb25jbGljaz1cIndpbmRvdy5zZXRGZWF0dXJlZEltYWdlKCcke3JlY2lwZUlkfScsICcke2ltZy5pZH0nKVwiXG4gICAgICAgICAgICB0aXRsZT1cIlNldCBhcyBmZWF0dXJlZCBpbWFnZVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGkgY2xhc3M9XCJmYS1zb2xpZCBmYS1zdGFyXCI+PC9pPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIFxuICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICBjbGFzcz1cImJ0bi1zbWFsbFwiIFxuICAgICAgICAgICAgb25jbGljaz1cIndpbmRvdy5tb3ZlSW1hZ2VVcCgnJHtyZWNpcGVJZH0nLCAnJHtpbWcuaWR9JylcIlxuICAgICAgICAgICAgdGl0bGU9XCJNb3ZlIHVwXCJcbiAgICAgICAgICAgICR7aW1nLm9yZGVyID09PSAwID8gJ2Rpc2FibGVkJyA6ICcnfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxpIGNsYXNzPVwiZmEtc29saWQgZmEtYXJyb3ctdXBcIj48L2k+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgXG4gICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgIGNsYXNzPVwiYnRuLXNtYWxsXCIgXG4gICAgICAgICAgICBvbmNsaWNrPVwid2luZG93Lm1vdmVJbWFnZURvd24oJyR7cmVjaXBlSWR9JywgJyR7aW1nLmlkfScpXCJcbiAgICAgICAgICAgIHRpdGxlPVwiTW92ZSBkb3duXCJcbiAgICAgICAgICAgICR7aW1nLm9yZGVyID09PSBzb3J0ZWRJbWFnZXMubGVuZ3RoIC0gMSA/ICdkaXNhYmxlZCcgOiAnJ31cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8aSBjbGFzcz1cImZhLXNvbGlkIGZhLWFycm93LWRvd25cIj48L2k+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgXG4gICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgIGNsYXNzPVwiYnRuLXNtYWxsICR7aW1nLmF0dHJpYnV0aW9uID8gJ2hhcy1hdHRyaWJ1dGlvbicgOiAnJ31cIiBcbiAgICAgICAgICAgIG9uY2xpY2s9XCJ3aW5kb3cuZWRpdEF0dHJpYnV0aW9uKCcke3JlY2lwZUlkfScsICcke2ltZy5pZH0nKVwiXG4gICAgICAgICAgICB0aXRsZT1cIiR7aW1nLnNvdXJjZSA9PT0gJ3Vuc3BsYXNoJyA/ICdVbnNwbGFzaCBhdHRyaWJ1dGlvbiAocmVxdWlyZWQpJyA6IGltZy5hdHRyaWJ1dGlvbiA/ICdFZGl0IGF0dHJpYnV0aW9uJyA6ICdBZGQgYXR0cmlidXRpb24nfVwiXG4gICAgICAgICAgICAke2ltZy5zb3VyY2UgPT09ICd1bnNwbGFzaCcgPyAnZGlzYWJsZWQnIDogJyd9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGkgY2xhc3M9XCJmYS1zb2xpZCBmYS0ke2ltZy5zb3VyY2UgPT09ICd1bnNwbGFzaCcgPyAnbG9jaycgOiAnY29weXJpZ2h0J31cIj48L2k+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgXG4gICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgIGNsYXNzPVwiYnRuLXNtYWxsIGJ0bi1kYW5nZXJcIiBcbiAgICAgICAgICAgIG9uY2xpY2s9XCJ3aW5kb3cucmVtb3ZlSW1hZ2UoJyR7cmVjaXBlSWR9JywgJyR7aW1nLmlkfScpXCJcbiAgICAgICAgICAgIHRpdGxlPVwiUmVtb3ZlIGltYWdlXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8aSBjbGFzcz1cImZhLXNvbGlkIGZhLXRyYXNoXCI+PC9pPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgICR7aW1nLnNvdXJjZSA9PT0gJ3Vuc3BsYXNoJyB8fCBpbWcuYXR0cmlidXRpb24gPyBgXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImltYWdlLWNyZWRpdCAke2ltZy5zb3VyY2UgPT09ICd1bnNwbGFzaCcgPyAndW5zcGxhc2gtY3JlZGl0JyA6ICcnfVwiPlxuICAgICAgICAgICAgJHtmb3JtYXRBdHRyaWJ1dGlvbihpbWcpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICBgIDogJyd9XG4gICAgICA8L2Rpdj5cbiAgICBgKS5qb2luKCcnKX1cbiAgYDtcblxuICAvLyBTZXR1cCBkcmFnLWFuZC1kcm9wIGZvciByZW9yZGVyaW5nXG4gIHNldHVwRHJhZ0FuZERyb3AocmVjaXBlSWQpO1xufVxuXG4vKipcbiAqIEZvcm1hdCBhdHRyaWJ1dGlvbiBmb3IgZGlzcGxheSAoVW5zcGxhc2gtY29tcGxpYW50KVxuICovXG5mdW5jdGlvbiBmb3JtYXRBdHRyaWJ1dGlvbihpbWFnZSkge1xuICBpZiAoIWltYWdlLmF0dHJpYnV0aW9uKSByZXR1cm4gJyc7XG4gIFxuICBjb25zdCBhdHRyID0gaW1hZ2UuYXR0cmlidXRpb247XG4gIFxuICAvLyBVbnNwbGFzaC1zcGVjaWZpYyBmb3JtYXQgKHJlcXVpcmVkIGJ5IHRoZWlyIGd1aWRlbGluZXMpXG4gIGlmIChpbWFnZS5zb3VyY2UgPT09ICd1bnNwbGFzaCcpIHtcbiAgICByZXR1cm4gYFBob3RvIGJ5IDxhIGhyZWY9XCIke2F0dHIucGhvdG9ncmFwaGVyVXJsfVwiIHRhcmdldD1cIl9ibGFua1wiIHJlbD1cIm5vb3BlbmVyXCI+JHthdHRyLnBob3RvZ3JhcGhlcn08L2E+IG9uIDxhIGhyZWY9XCJodHRwczovL3Vuc3BsYXNoLmNvbS8/dXRtX3NvdXJjZT1yZWNpcGVfbWUmdXRtX21lZGl1bT1yZWZlcnJhbFwiIHRhcmdldD1cIl9ibGFua1wiIHJlbD1cIm5vb3BlbmVyXCI+VW5zcGxhc2g8L2E+YDtcbiAgfVxuICBcbiAgLy8gVXNlci1hZGRlZCBhdHRyaWJ1dGlvblxuICBpZiAoYXR0ci5jdXN0b21DcmVkaXQpIHtcbiAgICByZXR1cm4gYXR0ci5jdXN0b21DcmVkaXQ7XG4gIH1cbiAgXG4gIGxldCB0ZXh0ID0gYFBob3RvIGJ5ICR7YXR0ci5waG90b2dyYXBoZXJ9YDtcbiAgXG4gIGlmIChhdHRyLnBob3RvZ3JhcGhlclVybCkge1xuICAgIHRleHQgPSBgPGEgaHJlZj1cIiR7YXR0ci5waG90b2dyYXBoZXJVcmx9XCIgdGFyZ2V0PVwiX2JsYW5rXCIgcmVsPVwibm9vcGVuZXJcIj4ke3RleHR9PC9hPmA7XG4gIH1cbiAgXG4gIHJldHVybiB0ZXh0O1xufVxuXG4vKipcbiAqIEZvcm1hdCBhdHRyaWJ1dGlvbiBhcyBwbGFpbiB0ZXh0IChmb3IgdGl0bGUgYXR0cmlidXRlKVxuICovXG5mdW5jdGlvbiBmb3JtYXRBdHRyaWJ1dGlvblRleHQoaW1hZ2UpIHtcbiAgaWYgKCFpbWFnZS5hdHRyaWJ1dGlvbikgcmV0dXJuICcnO1xuICBcbiAgY29uc3QgYXR0ciA9IGltYWdlLmF0dHJpYnV0aW9uO1xuICBcbiAgaWYgKGltYWdlLnNvdXJjZSA9PT0gJ3Vuc3BsYXNoJykge1xuICAgIHJldHVybiBgUGhvdG8gYnkgJHthdHRyLnBob3RvZ3JhcGhlcn0gb24gVW5zcGxhc2hgO1xuICB9XG4gIFxuICBpZiAoYXR0ci5jdXN0b21DcmVkaXQpIHtcbiAgICByZXR1cm4gYXR0ci5jdXN0b21DcmVkaXQ7XG4gIH1cbiAgXG4gIHJldHVybiBgUGhvdG8gYnkgJHthdHRyLnBob3RvZ3JhcGhlcn1gO1xufVxuXG4vKipcbiAqIEVkaXQgYXR0cmlidXRpb24gKG9ubHkgZm9yIHVzZXIgdXBsb2Fkcywgbm90IFVuc3BsYXNoKVxuICovXG53aW5kb3cuZWRpdEF0dHJpYnV0aW9uID0gYXN5bmMgZnVuY3Rpb24ocmVjaXBlSWQsIGltYWdlSWQpIHtcbiAgY29uc3QgcmVjaXBlcyA9IGF3YWl0IGxvYWRSZWNpcGVzKCk7XG4gIGNvbnN0IHJlY2lwZSA9IHJlY2lwZXMuZmluZChyID0+IHIuaWQgPT09IHJlY2lwZUlkKTtcbiAgY29uc3QgaW1hZ2UgPSByZWNpcGU/LmltYWdlcz8uZmluZChpbWcgPT4gaW1nLmlkID09PSBpbWFnZUlkKTtcbiAgXG4gIGlmICghaW1hZ2UpIHJldHVybjtcbiAgXG4gIC8vIEJsb2NrIGVkaXRpbmcgVW5zcGxhc2ggYXR0cmlidXRpb25cbiAgaWYgKGltYWdlLnNvdXJjZSA9PT0gJ3Vuc3BsYXNoJykge1xuICAgIGFsZXJ0KCdVbnNwbGFzaCBhdHRyaWJ1dGlvbiBjYW5ub3QgYmUgZWRpdGVkIG9yIHJlbW92ZWQgcGVyIHRoZWlyIHRlcm1zIG9mIHVzZS4nKTtcbiAgICByZXR1cm47XG4gIH1cbiAgXG4gIGNvbnN0IGF0dHJpYnV0aW9uID0gYXdhaXQgc2hvd0F0dHJpYnV0aW9uRGlhbG9nKGltYWdlLmF0dHJpYnV0aW9uKTtcbiAgXG4gIGlmIChhdHRyaWJ1dGlvbiAhPT0gdW5kZWZpbmVkKSB7IC8vIHVuZGVmaW5lZCA9IGNhbmNlbGxlZFxuICAgIGltYWdlLmF0dHJpYnV0aW9uID0gYXR0cmlidXRpb247XG4gICAgcmVjaXBlLnVwZGF0ZWRBdCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICBzYXZlUmVjaXBlcyhyZWNpcGVzKTtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZWRpdGluZ1JlY2lwZScsIEpTT04uc3RyaW5naWZ5KHJlY2lwZSkpO1xuICAgIGF3YWl0IHJlbmRlckltYWdlR2FsbGVyeShyZWNpcGVJZCk7XG4gIH1cbn07XG5cbi8qKlxuICogU2hvdyBhdHRyaWJ1dGlvbiBkaWFsb2dcbiAqL1xuZnVuY3Rpb24gc2hvd0F0dHJpYnV0aW9uRGlhbG9nKGN1cnJlbnRBdHRyaWJ1dGlvbikge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICBjb25zdCBkaWFsb2cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaWFsb2cnKTtcbiAgICBkaWFsb2cuY2xhc3NOYW1lID0gJ2F0dHJpYnV0aW9uLWRpYWxvZyBtb2RhbC1kaWFsb2cnO1xuICAgIFxuICAgIGNvbnN0IGhhc0F0dHJpYnV0aW9uID0gY3VycmVudEF0dHJpYnV0aW9uICYmIGN1cnJlbnRBdHRyaWJ1dGlvbi5waG90b2dyYXBoZXI7XG4gICAgXG4gICAgZGlhbG9nLmlubmVySFRNTCA9IGBcbiAgICAgIDxmb3JtIGlkPVwiYXR0cmlidXRpb24tZm9ybVwiPlxuICAgICAgICA8aDM+JHtoYXNBdHRyaWJ1dGlvbiA/ICdFZGl0JyA6ICdBZGQnfSBJbWFnZSBBdHRyaWJ1dGlvbjwvaDM+XG4gICAgICAgIDxwIGNsYXNzPVwiaGludFwiPk9wdGlvbmFsIC0gYWRkIGNyZWRpdCBpZiB0aGlzIHBob3RvIGlzIGZyb20gYSBwaG90b2dyYXBoZXIgb3IgcmVxdWlyZXMgYXR0cmlidXRpb24uPC9wPlxuICAgICAgICBcbiAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICA8bGFiZWwgZm9yPVwicGhvdG9ncmFwaGVyLW5hbWVcIj5QaG90b2dyYXBoZXIvU291cmNlIE5hbWU6PC9sYWJlbD5cbiAgICAgICAgICA8aW5wdXQgXG4gICAgICAgICAgICB0eXBlPVwidGV4dFwiIFxuICAgICAgICAgICAgaWQ9XCJwaG90b2dyYXBoZXItbmFtZVwiIFxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJlLmcuLCBKYW5lIFNtaXRoIFBob3RvZ3JhcGh5XCJcbiAgICAgICAgICAgIHZhbHVlPVwiJHtjdXJyZW50QXR0cmlidXRpb24/LnBob3RvZ3JhcGhlciB8fCAnJ31cIlxuICAgICAgICAgID5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICAgIDxsYWJlbCBmb3I9XCJwaG90b2dyYXBoZXItdXJsXCI+V2Vic2l0ZS9VUkwgKG9wdGlvbmFsKTo8L2xhYmVsPlxuICAgICAgICAgIDxpbnB1dCBcbiAgICAgICAgICAgIHR5cGU9XCJ1cmxcIiBcbiAgICAgICAgICAgIGlkPVwicGhvdG9ncmFwaGVyLXVybFwiIFxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJodHRwczovL2phbmVzbWl0aC5jb21cIlxuICAgICAgICAgICAgdmFsdWU9XCIke2N1cnJlbnRBdHRyaWJ1dGlvbj8ucGhvdG9ncmFwaGVyVXJsIHx8ICcnfVwiXG4gICAgICAgICAgPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgPGxhYmVsIGZvcj1cImN1c3RvbS1jcmVkaXRcIj5DdXN0b20gQ3JlZGl0IExpbmUgKG9wdGlvbmFsKTo8L2xhYmVsPlxuICAgICAgICAgIDxpbnB1dCBcbiAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCIgXG4gICAgICAgICAgICBpZD1cImN1c3RvbS1jcmVkaXRcIiBcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiZS5nLiwgUGhvdG9ncmFwaHkgYnkgSmFuZSBTbWl0aFwiXG4gICAgICAgICAgICB2YWx1ZT1cIiR7Y3VycmVudEF0dHJpYnV0aW9uPy5jdXN0b21DcmVkaXQgfHwgJyd9XCJcbiAgICAgICAgICA+XG4gICAgICAgICAgPHNtYWxsPklmIGJsYW5rLCB3aWxsIGF1dG8tZ2VuZXJhdGUgZnJvbSBwaG90b2dyYXBoZXIgbmFtZTwvc21hbGw+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgPGRpdiBjbGFzcz1cImJ1dHRvbi1ncm91cFwiPlxuICAgICAgICAgICR7aGFzQXR0cmlidXRpb24gPyBgXG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBpZD1cInJlbW92ZS1hdHRyaWJ1dGlvbi1idG5cIiBjbGFzcz1cImJ0bi1zZWNvbmRhcnlcIj5cbiAgICAgICAgICAgICAgUmVtb3ZlIEF0dHJpYnV0aW9uXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICBgIDogJyd9XG4gICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgaWQ9XCJjYW5jZWwtYnRuXCIgY2xhc3M9XCJidG4tc2Vjb25kYXJ5XCI+XG4gICAgICAgICAgICBDYW5jZWxcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIiBjbGFzcz1cImJ0bi1wcmltYXJ5XCI+XG4gICAgICAgICAgICBTYXZlXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9mb3JtPlxuICAgIGA7XG4gICAgXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkaWFsb2cpO1xuICAgIGRpYWxvZy5zaG93TW9kYWwoKTtcbiAgICBcbiAgICBjb25zdCBmb3JtID0gZGlhbG9nLnF1ZXJ5U2VsZWN0b3IoJyNhdHRyaWJ1dGlvbi1mb3JtJyk7XG4gICAgY29uc3QgcGhvdG9ncmFwaGVySW5wdXQgPSBkaWFsb2cucXVlcnlTZWxlY3RvcignI3Bob3RvZ3JhcGhlci1uYW1lJyk7XG4gICAgY29uc3QgdXJsSW5wdXQgPSBkaWFsb2cucXVlcnlTZWxlY3RvcignI3Bob3RvZ3JhcGhlci11cmwnKTtcbiAgICBjb25zdCBjcmVkaXRJbnB1dCA9IGRpYWxvZy5xdWVyeVNlbGVjdG9yKCcjY3VzdG9tLWNyZWRpdCcpO1xuICAgIGNvbnN0IGNhbmNlbEJ0biA9IGRpYWxvZy5xdWVyeVNlbGVjdG9yKCcjY2FuY2VsLWJ0bicpO1xuICAgIGNvbnN0IHJlbW92ZUJ0biA9IGRpYWxvZy5xdWVyeVNlbGVjdG9yKCcjcmVtb3ZlLWF0dHJpYnV0aW9uLWJ0bicpO1xuICAgIFxuICAgIHBob3RvZ3JhcGhlcklucHV0LmZvY3VzKCk7XG4gICAgXG4gICAgY2FuY2VsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgZGlhbG9nLmNsb3NlKCk7XG4gICAgICBkaWFsb2cucmVtb3ZlKCk7XG4gICAgICByZXNvbHZlKHVuZGVmaW5lZCk7IC8vIHVuZGVmaW5lZCA9IGNhbmNlbGxlZFxuICAgIH0pO1xuICAgIFxuICAgIGlmIChyZW1vdmVCdG4pIHtcbiAgICAgIHJlbW92ZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgaWYgKGNvbmZpcm0oJ1JlbW92ZSBhdHRyaWJ1dGlvbiBmcm9tIHRoaXMgaW1hZ2U/JykpIHtcbiAgICAgICAgICBkaWFsb2cuY2xvc2UoKTtcbiAgICAgICAgICBkaWFsb2cucmVtb3ZlKCk7XG4gICAgICAgICAgcmVzb2x2ZShudWxsKTsgLy8gbnVsbCA9IHJlbW92ZSBhdHRyaWJ1dGlvblxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgZGlhbG9nLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGlmIChlLnRhcmdldCA9PT0gZGlhbG9nKSB7XG4gICAgICAgIGRpYWxvZy5jbG9zZSgpO1xuICAgICAgICBkaWFsb2cucmVtb3ZlKCk7XG4gICAgICAgIHJlc29sdmUodW5kZWZpbmVkKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBcbiAgICAgIGNvbnN0IHBob3RvZ3JhcGhlciA9IHBob3RvZ3JhcGhlcklucHV0LnZhbHVlLnRyaW0oKTtcbiAgICAgIGNvbnN0IHVybCA9IHVybElucHV0LnZhbHVlLnRyaW0oKTtcbiAgICAgIGNvbnN0IGN1c3RvbUNyZWRpdCA9IGNyZWRpdElucHV0LnZhbHVlLnRyaW0oKTtcbiAgICAgIFxuICAgICAgaWYgKCFwaG90b2dyYXBoZXIpIHtcbiAgICAgICAgZGlhbG9nLmNsb3NlKCk7XG4gICAgICAgIGRpYWxvZy5yZW1vdmUoKTtcbiAgICAgICAgcmVzb2x2ZShudWxsKTsgLy8gTm8gcGhvdG9ncmFwaGVyID0gcmVtb3ZlIGF0dHJpYnV0aW9uXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgYXR0cmlidXRpb24gPSB7XG4gICAgICAgIHBob3RvZ3JhcGhlcixcbiAgICAgICAgcGhvdG9ncmFwaGVyVXJsOiB1cmwgfHwgbnVsbCxcbiAgICAgICAgY3VzdG9tQ3JlZGl0OiBjdXN0b21DcmVkaXQgfHwgbnVsbCxcbiAgICAgICAgcmVxdWlyZXNBdHRyaWJ1dGlvbjogdHJ1ZSxcbiAgICAgICAgY2FuRWRpdDogdHJ1ZVxuICAgICAgfTtcbiAgICAgIFxuICAgICAgZGlhbG9nLmNsb3NlKCk7XG4gICAgICBkaWFsb2cucmVtb3ZlKCk7XG4gICAgICByZXNvbHZlKGF0dHJpYnV0aW9uKTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbi8qKlxuICogU2V0IGZlYXR1cmVkIGltYWdlXG4gKi9cbndpbmRvdy5zZXRGZWF0dXJlZEltYWdlID0gYXN5bmMgZnVuY3Rpb24ocmVjaXBlSWQsIGltYWdlSWQpIHtcbiAgY29uc3QgcmVjaXBlcyA9IGF3YWl0IGxvYWRSZWNpcGVzKCk7XG4gIGNvbnN0IHJlY2lwZSA9IHJlY2lwZXMuZmluZChyID0+IHIuaWQgPT09IHJlY2lwZUlkKTtcbiAgaWYgKCFyZWNpcGUgfHwgIXJlY2lwZS5pbWFnZXMpIHJldHVybjtcblxuICByZWNpcGUuaW1hZ2VzLmZvckVhY2goaW1nID0+IGltZy5pc0ZlYXR1cmVkID0gZmFsc2UpO1xuICBjb25zdCBpbWFnZSA9IHJlY2lwZS5pbWFnZXMuZmluZChpbWcgPT4gaW1nLmlkID09PSBpbWFnZUlkKTtcbiAgaWYgKGltYWdlKSBpbWFnZS5pc0ZlYXR1cmVkID0gdHJ1ZTtcblxuICByZWNpcGUudXBkYXRlZEF0ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuICBzYXZlUmVjaXBlcyhyZWNpcGVzKTtcbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2VkaXRpbmdSZWNpcGUnLCBKU09OLnN0cmluZ2lmeShyZWNpcGUpKTtcbiAgXG4gIGF3YWl0IHJlbmRlckltYWdlR2FsbGVyeShyZWNpcGVJZCk7XG59O1xuXG4vKipcbiAqIE1vdmUgaW1hZ2UgdXBcbiAqL1xud2luZG93Lm1vdmVJbWFnZVVwID0gYXN5bmMgZnVuY3Rpb24ocmVjaXBlSWQsIGltYWdlSWQpIHtcbiAgY29uc3QgcmVjaXBlcyA9IGF3YWl0IGxvYWRSZWNpcGVzKCk7XG4gIGNvbnN0IHJlY2lwZSA9IHJlY2lwZXMuZmluZChyID0+IHIuaWQgPT09IHJlY2lwZUlkKTtcbiAgaWYgKCFyZWNpcGUgfHwgIXJlY2lwZS5pbWFnZXMpIHJldHVybjtcblxuICBjb25zdCBpbmRleCA9IHJlY2lwZS5pbWFnZXMuZmluZEluZGV4KGltZyA9PiBpbWcuaWQgPT09IGltYWdlSWQpO1xuICBpZiAoaW5kZXggPD0gMCkgcmV0dXJuO1xuXG4gIGNvbnN0IHRlbXAgPSByZWNpcGUuaW1hZ2VzW2luZGV4XS5vcmRlcjtcbiAgcmVjaXBlLmltYWdlc1tpbmRleF0ub3JkZXIgPSByZWNpcGUuaW1hZ2VzW2luZGV4IC0gMV0ub3JkZXI7XG4gIHJlY2lwZS5pbWFnZXNbaW5kZXggLSAxXS5vcmRlciA9IHRlbXA7XG5cbiAgcmVjaXBlLnVwZGF0ZWRBdCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgc2F2ZVJlY2lwZXMocmVjaXBlcyk7XG4gIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdlZGl0aW5nUmVjaXBlJywgSlNPTi5zdHJpbmdpZnkocmVjaXBlKSk7XG4gIFxuICBhd2FpdCByZW5kZXJJbWFnZUdhbGxlcnkocmVjaXBlSWQpO1xufTtcblxuLyoqXG4gKiBNb3ZlIGltYWdlIGRvd25cbiAqL1xud2luZG93Lm1vdmVJbWFnZURvd24gPSBhc3luYyBmdW5jdGlvbihyZWNpcGVJZCwgaW1hZ2VJZCkge1xuICBjb25zdCByZWNpcGVzID0gYXdhaXQgbG9hZFJlY2lwZXMoKTtcbiAgY29uc3QgcmVjaXBlID0gcmVjaXBlcy5maW5kKHIgPT4gci5pZCA9PT0gcmVjaXBlSWQpO1xuICBpZiAoIXJlY2lwZSB8fCAhcmVjaXBlLmltYWdlcykgcmV0dXJuO1xuXG4gIGNvbnN0IGluZGV4ID0gcmVjaXBlLmltYWdlcy5maW5kSW5kZXgoaW1nID0+IGltZy5pZCA9PT0gaW1hZ2VJZCk7XG4gIGlmIChpbmRleCA9PT0gLTEgfHwgaW5kZXggPj0gcmVjaXBlLmltYWdlcy5sZW5ndGggLSAxKSByZXR1cm47XG5cbiAgY29uc3QgdGVtcCA9IHJlY2lwZS5pbWFnZXNbaW5kZXhdLm9yZGVyO1xuICByZWNpcGUuaW1hZ2VzW2luZGV4XS5vcmRlciA9IHJlY2lwZS5pbWFnZXNbaW5kZXggKyAxXS5vcmRlcjtcbiAgcmVjaXBlLmltYWdlc1tpbmRleCArIDFdLm9yZGVyID0gdGVtcDtcblxuICByZWNpcGUudXBkYXRlZEF0ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuICBzYXZlUmVjaXBlcyhyZWNpcGVzKTtcbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2VkaXRpbmdSZWNpcGUnLCBKU09OLnN0cmluZ2lmeShyZWNpcGUpKTtcbiAgXG4gIGF3YWl0IHJlbmRlckltYWdlR2FsbGVyeShyZWNpcGVJZCk7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBpbWFnZVxuICovXG53aW5kb3cucmVtb3ZlSW1hZ2UgPSBhc3luYyBmdW5jdGlvbihyZWNpcGVJZCwgaW1hZ2VJZCkge1xuICBpZiAoIWNvbmZpcm0oJ1JlbW92ZSB0aGlzIGltYWdlPyBUaGlzIGNhbm5vdCBiZSB1bmRvbmUuJykpIHJldHVybjtcblxuICBjb25zdCByZWNpcGVzID0gYXdhaXQgbG9hZFJlY2lwZXMoKTtcbiAgY29uc3QgcmVjaXBlID0gcmVjaXBlcy5maW5kKHIgPT4gci5pZCA9PT0gcmVjaXBlSWQpO1xuICBpZiAoIXJlY2lwZSB8fCAhcmVjaXBlLmltYWdlcykgcmV0dXJuO1xuXG4gIGNvbnN0IGltYWdlVG9SZW1vdmUgPSByZWNpcGUuaW1hZ2VzLmZpbmQoaW1nID0+IGltZy5pZCA9PT0gaW1hZ2VJZCk7XG4gIFxuICAvLyDinIUgVW5yZWdpc3RlciBmcm9tIGdsb2JhbCByZWdpc3RyeVxuICBpZiAoaW1hZ2VUb1JlbW92ZT8uZmlsZUhhc2gpIHtcbiAgICB1bnJlZ2lzdGVySW1hZ2VGcm9tUmVjaXBlKGltYWdlVG9SZW1vdmUuZmlsZUhhc2gsIHJlY2lwZUlkKTtcbiAgfVxuICBcbiAgLy8gQ2hlY2sgaWYgb3RoZXIgcmVjaXBlcyBzdGlsbCB1c2UgdGhpcyBpbWFnZVxuICBjb25zdCByZWdpc3RyeSA9IGdldEltYWdlUmVnaXN0cnkoKTtcbiAgY29uc3QgaW1hZ2VEYXRhID0gcmVnaXN0cnlbaW1hZ2VUb1JlbW92ZT8uZmlsZUhhc2hdO1xuICBjb25zdCBzdGlsbEluVXNlID0gaW1hZ2VEYXRhPy51c2VkQnlSZWNpcGVzLmxlbmd0aCA+IDA7XG4gIFxuICAvLyBPbmx5IGRlbGV0ZSBmcm9tIENsb3VkaW5hcnkgaWYgbm8gb3RoZXIgcmVjaXBlIHVzZXMgaXRcbiAgaWYgKCFzdGlsbEluVXNlICYmIGltYWdlVG9SZW1vdmU/LnNvdXJjZSA9PT0gJ3VzZXItdXBsb2FkJyAmJiBpbWFnZVRvUmVtb3ZlLmNsb3VkaW5hcnlQdWJsaWNJZCkge1xuICAgIGNvbnN0IHNob3VsZERlbGV0ZSA9IGNvbmZpcm0oXG4gICAgICAnVGhpcyBpbWFnZSBpcyBub3QgdXNlZCBieSBhbnkgb3RoZXIgcmVjaXBlLlxcblxcbicgK1xuICAgICAgJ0RlbGV0ZSBmcm9tIENsb3VkaW5hcnk/IChTYXZlcyBzdG9yYWdlKSdcbiAgICApO1xuICAgIFxuICAgIGlmIChzaG91bGREZWxldGUpIHtcbiAgICAgIHNob3dVcGxvYWRTdGF0dXMoJ0RlbGV0aW5nIGZyb20gQ2xvdWRpbmFyeS4uLicsICd1cGxvYWRpbmcnKTtcbiAgICAgIC8vIFRPRE86IEltcGxlbWVudCBDbG91ZGluYXJ5IGRlbGV0aW9uXG4gICAgICAvLyBhd2FpdCBkZWxldGVGcm9tQ2xvdWRpbmFyeShpbWFnZVRvUmVtb3ZlLmNsb3VkaW5hcnlQdWJsaWNJZCk7XG4gICAgICBjb25zb2xlLmxvZygn8J+Xke+4jyBXb3VsZCBkZWxldGU6JywgaW1hZ2VUb1JlbW92ZS5jbG91ZGluYXJ5UHVibGljSWQpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChzdGlsbEluVXNlKSB7XG4gICAgY29uc29sZS5sb2coYOKZu++4jyBJbWFnZSBzdGlsbCB1c2VkIGJ5ICR7aW1hZ2VEYXRhLnVzZWRCeVJlY2lwZXMubGVuZ3RofSByZWNpcGUocyksIGtlZXBpbmcgaW4gQ2xvdWRpbmFyeWApO1xuICB9XG5cbiAgLy8gUmVtb3ZlIGZyb20gcmVjaXBlXG4gIHJlY2lwZS5pbWFnZXMgPSByZWNpcGUuaW1hZ2VzLmZpbHRlcihpbWcgPT4gaW1nLmlkICE9PSBpbWFnZUlkKTtcbiAgXG4gIC8vIFJlb3JkZXIgcmVtYWluaW5nIGltYWdlc1xuICByZWNpcGUuaW1hZ2VzLnNvcnQoKGEsIGIpID0+IGEub3JkZXIgLSBiLm9yZGVyKTtcbiAgcmVjaXBlLmltYWdlcy5mb3JFYWNoKChpbWcsIGluZGV4KSA9PiBpbWcub3JkZXIgPSBpbmRleCk7XG5cbiAgLy8gSWYgcmVtb3ZlZCBpbWFnZSB3YXMgZmVhdHVyZWQsIHNldCBmaXJzdCBpbWFnZSBhcyBmZWF0dXJlZFxuICBpZiAocmVjaXBlLmltYWdlcy5sZW5ndGggPiAwICYmICFyZWNpcGUuaW1hZ2VzLnNvbWUoaW1nID0+IGltZy5pc0ZlYXR1cmVkKSkge1xuICAgIHJlY2lwZS5pbWFnZXNbMF0uaXNGZWF0dXJlZCA9IHRydWU7XG4gIH1cblxuICByZWNpcGUudXBkYXRlZEF0ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuICBzYXZlUmVjaXBlcyhyZWNpcGVzKTtcbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2VkaXRpbmdSZWNpcGUnLCBKU09OLnN0cmluZ2lmeShyZWNpcGUpKTtcbiAgXG4gIGF3YWl0IHJlbmRlckltYWdlR2FsbGVyeShyZWNpcGVJZCk7XG4gIHNob3dVcGxvYWRTdGF0dXMoJ0ltYWdlIHJlbW92ZWQnLCAnc3VjY2VzcycpO1xufTtcblxuLyoqXG4gKiBTZXR1cCBkcmFnLWFuZC1kcm9wIHJlb3JkZXJpbmdcbiAqL1xuZnVuY3Rpb24gc2V0dXBEcmFnQW5kRHJvcChyZWNpcGVJZCkge1xuICBjb25zdCBpbWFnZUNhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmltYWdlLWNhcmQnKTtcbiAgbGV0IGRyYWdnZWRFbGVtZW50ID0gbnVsbDtcblxuICBpbWFnZUNhcmRzLmZvckVhY2goY2FyZCA9PiB7XG4gICAgY2FyZC5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCAoZSkgPT4ge1xuICAgICAgZHJhZ2dlZEVsZW1lbnQgPSBjYXJkO1xuICAgICAgY2FyZC5jbGFzc0xpc3QuYWRkKCdkcmFnZ2luZycpO1xuICAgIH0pO1xuXG4gICAgY2FyZC5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW5kJywgKCkgPT4ge1xuICAgICAgY2FyZC5jbGFzc0xpc3QucmVtb3ZlKCdkcmFnZ2luZycpO1xuICAgIH0pO1xuXG4gICAgY2FyZC5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBjb25zdCBhZnRlckVsZW1lbnQgPSBnZXREcmFnQWZ0ZXJFbGVtZW50KGNhcmQucGFyZW50RWxlbWVudCwgZS5jbGllbnRZKTtcbiAgICAgIGlmIChhZnRlckVsZW1lbnQgPT0gbnVsbCkge1xuICAgICAgICBjYXJkLnBhcmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoZHJhZ2dlZEVsZW1lbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FyZC5wYXJlbnRFbGVtZW50Lmluc2VydEJlZm9yZShkcmFnZ2VkRWxlbWVudCwgYWZ0ZXJFbGVtZW50KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNhcmQuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIGFzeW5jIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBhd2FpdCByZW9yZGVySW1hZ2VzQWZ0ZXJEcmFnKHJlY2lwZUlkKTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbi8qKlxuICogR2V0IGVsZW1lbnQgdG8gaW5zZXJ0IGRyYWdnZWQgaXRlbSBhZnRlclxuICovXG5mdW5jdGlvbiBnZXREcmFnQWZ0ZXJFbGVtZW50KGNvbnRhaW5lciwgeSkge1xuICBjb25zdCBkcmFnZ2FibGVFbGVtZW50cyA9IFsuLi5jb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLmltYWdlLWNhcmQ6bm90KC5kcmFnZ2luZyknKV07XG5cbiAgcmV0dXJuIGRyYWdnYWJsZUVsZW1lbnRzLnJlZHVjZSgoY2xvc2VzdCwgY2hpbGQpID0+IHtcbiAgICBjb25zdCBib3ggPSBjaGlsZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCBvZmZzZXQgPSB5IC0gYm94LnRvcCAtIGJveC5oZWlnaHQgLyAyO1xuXG4gICAgaWYgKG9mZnNldCA8IDAgJiYgb2Zmc2V0ID4gY2xvc2VzdC5vZmZzZXQpIHtcbiAgICAgIHJldHVybiB7IG9mZnNldDogb2Zmc2V0LCBlbGVtZW50OiBjaGlsZCB9O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gY2xvc2VzdDtcbiAgICB9XG4gIH0sIHsgb2Zmc2V0OiBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkgfSkuZWxlbWVudDtcbn1cblxuLyoqXG4gKiBTYXZlIG5ldyBvcmRlciBhZnRlciBkcmFnLWFuZC1kcm9wXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHJlb3JkZXJJbWFnZXNBZnRlckRyYWcocmVjaXBlSWQpIHtcbiAgY29uc3QgcmVjaXBlcyA9IGF3YWl0IGxvYWRSZWNpcGVzKCk7XG4gIGNvbnN0IHJlY2lwZSA9IHJlY2lwZXMuZmluZChyID0+IHIuaWQgPT09IHJlY2lwZUlkKTtcbiAgaWYgKCFyZWNpcGUgfHwgIXJlY2lwZS5pbWFnZXMpIHJldHVybjtcblxuICBjb25zdCBpbWFnZUNhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmltYWdlLWNhcmQnKTtcbiAgY29uc3QgbmV3T3JkZXIgPSBBcnJheS5mcm9tKGltYWdlQ2FyZHMpLm1hcChjYXJkID0+IGNhcmQuZGF0YXNldC5pbWFnZUlkKTtcblxuICBuZXdPcmRlci5mb3JFYWNoKChpbWFnZUlkLCBpbmRleCkgPT4ge1xuICAgIGNvbnN0IGltZyA9IHJlY2lwZS5pbWFnZXMuZmluZChpID0+IGkuaWQgPT09IGltYWdlSWQpO1xuICAgIGlmIChpbWcpIGltZy5vcmRlciA9IGluZGV4O1xuICB9KTtcblxuICByZWNpcGUudXBkYXRlZEF0ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuICBzYXZlUmVjaXBlcyhyZWNpcGVzKTtcbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2VkaXRpbmdSZWNpcGUnLCBKU09OLnN0cmluZ2lmeShyZWNpcGUpKTtcbn1cblxuLyoqXG4gKiBTaG93IHVwbG9hZCBzdGF0dXNcbiAqL1xuZnVuY3Rpb24gc2hvd1VwbG9hZFN0YXR1cyhtZXNzYWdlLCB0eXBlKSB7XG4gIGNvbnN0IHN0YXR1c0RpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1cGxvYWQtc3RhdHVzJyk7XG4gIGlmICghc3RhdHVzRGl2KSByZXR1cm47XG5cbiAgc3RhdHVzRGl2LnRleHRDb250ZW50ID0gbWVzc2FnZTtcbiAgc3RhdHVzRGl2LmNsYXNzTmFtZSA9IGB1cGxvYWQtc3RhdHVzLSR7dHlwZX1gO1xuXG4gIGlmICh0eXBlID09PSAnc3VjY2VzcycgfHwgdHlwZSA9PT0gJ2Vycm9yJykge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgc3RhdHVzRGl2LnRleHRDb250ZW50ID0gJyc7XG4gICAgICBzdGF0dXNEaXYuY2xhc3NOYW1lID0gJyc7XG4gICAgfSwgMzAwMCk7XG4gIH1cbn0iXSwibmFtZXMiOlsiZSIsInQiLCJyIiwiU3ltYm9sIiwibiIsIml0ZXJhdG9yIiwibyIsInRvU3RyaW5nVGFnIiwiaSIsImMiLCJwcm90b3R5cGUiLCJHZW5lcmF0b3IiLCJ1IiwiT2JqZWN0IiwiY3JlYXRlIiwiX3JlZ2VuZXJhdG9yRGVmaW5lMiIsImYiLCJwIiwieSIsIkciLCJ2IiwiYSIsImQiLCJiaW5kIiwibGVuZ3RoIiwibCIsIlR5cGVFcnJvciIsImNhbGwiLCJkb25lIiwidmFsdWUiLCJHZW5lcmF0b3JGdW5jdGlvbiIsIkdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlIiwiZ2V0UHJvdG90eXBlT2YiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsImRpc3BsYXlOYW1lIiwiX3JlZ2VuZXJhdG9yIiwidyIsIm0iLCJkZWZpbmVQcm9wZXJ0eSIsIl9yZWdlbmVyYXRvckRlZmluZSIsIl9pbnZva2UiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJhc3luY0dlbmVyYXRvclN0ZXAiLCJQcm9taXNlIiwicmVzb2x2ZSIsInRoZW4iLCJfYXN5bmNUb0dlbmVyYXRvciIsImFyZ3VtZW50cyIsImFwcGx5IiwiX25leHQiLCJfdGhyb3ciLCJ2NCIsInV1aWR2NCIsImxvYWRSZWNpcGVzIiwic2F2ZVJlY2lwZXMiLCJvcHRpbWl6ZUltYWdlIiwiSU1BR0VfUFJFU0VUUyIsImdlbmVyYXRlRmlsZUhhc2giLCJjaGVja0R1cGxpY2F0ZUJ5RmlsZW5hbWUiLCJmaW5kRXhpc3RpbmdJbWFnZSIsInJlZ2lzdGVySW1hZ2UiLCJ1bnJlZ2lzdGVySW1hZ2VGcm9tUmVjaXBlIiwiZ2V0SW1hZ2VSZWdpc3RyeSIsIkNMT1VESU5BUllfQ0xPVURfTkFNRSIsIkNMT1VESU5BUllfVVBMT0FEX1BSRVNFVCIsInNldHVwSW1hZ2VHYWxsZXJ5IiwicmVjaXBlSWQiLCJ1cGxvYWRJbnB1dCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJjb25zb2xlIiwid2FybiIsImFkZEV2ZW50TGlzdGVuZXIiLCJfcmVmIiwiX2NhbGxlZSIsImZpbGUiLCJvcHRpbWl6ZWRCbG9iIiwiZmlsZUhhc2giLCJleGlzdGluZ0ltYWdlIiwiX2V4aXN0aW5nSW1hZ2UkbWV0YWRhIiwidXNlZEluUmVjaXBlcyIsInNob3VsZFJldXNlIiwiX2V4aXN0aW5nSW1hZ2UkbWV0YWRhMiIsIl9pbWFnZURhdGEiLCJyZWNpcGVzIiwicmVjaXBlIiwiZHVwbGljYXRlQnlOYW1lIiwic2hvdWxkQ29udGludWUiLCJvcmlnaW5hbFNpemUiLCJvcHRpbWl6ZWRTaXplIiwic2F2aW5ncyIsIl95aWVsZCR1cGxvYWRUb0Nsb3VkaSIsInVybCIsInB1YmxpY0lkIiwiaW1hZ2VEYXRhIiwiX3QiLCJfY29udGV4dCIsInRhcmdldCIsImZpbGVzIiwidHlwZSIsInN0YXJ0c1dpdGgiLCJzaG93VXBsb2FkU3RhdHVzIiwic2l6ZSIsInJlY2lwZUhlcm8iLCJ1c2VkQnlSZWNpcGVzIiwiY29uZmlybSIsImNvbmNhdCIsIm1ldGFkYXRhIiwib3JpZ2luYWxGaWxlbmFtZSIsIkRhdGUiLCJ1cGxvYWRlZEF0IiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwibG9nIiwic291cmNlIiwiY2xvdWRpbmFyeVB1YmxpY0lkIiwiYXR0cmlidXRpb24iLCJuYW1lIiwicmV1c2VkRnJvbSIsImFkZEltYWdlVG9SZWNpcGUiLCJyZW5kZXJJbWFnZUdhbGxlcnkiLCJmaW5kIiwiaWQiLCJpbWFnZXMiLCJ0b0ZpeGVkIiwiTWF0aCIsInJvdW5kIiwidXBsb2FkVG9DbG91ZGluYXJ5IiwidG9JU09TdHJpbmciLCJlcnJvciIsIm1lc3NhZ2UiLCJfeCIsImFkZFVuc3BsYXNoSW1hZ2UiLCJfeDIiLCJfeDMiLCJfYWRkVW5zcGxhc2hJbWFnZSIsIl9jYWxsZWU4IiwiX2NvbnRleHQ4IiwicGhvdG9ncmFwaGVyIiwicGhvdG9ncmFwaGVyVXJsIiwicGhvdG9ncmFwaGVyTGluayIsInJlcXVpcmVzQXR0cmlidXRpb24iLCJjYW5FZGl0IiwiX3g0IiwiX3VwbG9hZFRvQ2xvdWRpbmFyeSIsIl9jYWxsZWU5IiwiZmlsZU9yQmxvYiIsImZpbGVuYW1lIiwiZm9ybURhdGEiLCJyZXNwb25zZSIsIl9lcnJvciRlcnJvciIsImRhdGEiLCJfYXJnczkiLCJfY29udGV4dDkiLCJ1bmRlZmluZWQiLCJGb3JtRGF0YSIsIkJsb2IiLCJGaWxlIiwiYXBwZW5kIiwiZmV0Y2giLCJtZXRob2QiLCJib2R5Iiwib2siLCJqc29uIiwiRXJyb3IiLCJzZWN1cmVfdXJsIiwicmVwbGFjZSIsInB1YmxpY19pZCIsIl94NSIsIl94NiIsIl9hZGRJbWFnZVRvUmVjaXBlIiwiX2NhbGxlZTAiLCJuZXdJbWFnZSIsIl9jb250ZXh0MCIsImlzRmVhdHVyZWQiLCJvcmRlciIsInB1c2giLCJ1cGRhdGVkQXQiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiSlNPTiIsInN0cmluZ2lmeSIsIl94NyIsIl9yZW5kZXJJbWFnZUdhbGxlcnkiLCJfY2FsbGVlMSIsImdhbGxlcnkiLCJub0ltYWdlc01zZyIsInNvcnRlZEltYWdlcyIsIl9jb250ZXh0MSIsInF1ZXJ5U2VsZWN0b3IiLCJzdHlsZSIsImRpc3BsYXkiLCJpbm5lckhUTUwiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJzb3J0IiwiYiIsIm1hcCIsImltZyIsIl9pbWckbWV0YWRhdGEiLCJmb3JtYXRBdHRyaWJ1dGlvblRleHQiLCJmb3JtYXRBdHRyaWJ1dGlvbiIsImpvaW4iLCJzZXR1cERyYWdBbmREcm9wIiwiaW1hZ2UiLCJhdHRyIiwiY3VzdG9tQ3JlZGl0IiwidGV4dCIsIndpbmRvdyIsImVkaXRBdHRyaWJ1dGlvbiIsIl9yZWYyIiwiX2NhbGxlZTIiLCJpbWFnZUlkIiwiX3JlY2lwZSRpbWFnZXMiLCJfY29udGV4dDIiLCJhbGVydCIsInNob3dBdHRyaWJ1dGlvbkRpYWxvZyIsIl94OCIsIl94OSIsImN1cnJlbnRBdHRyaWJ1dGlvbiIsImRpYWxvZyIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJoYXNBdHRyaWJ1dGlvbiIsImFwcGVuZENoaWxkIiwic2hvd01vZGFsIiwiZm9ybSIsInBob3RvZ3JhcGhlcklucHV0IiwidXJsSW5wdXQiLCJjcmVkaXRJbnB1dCIsImNhbmNlbEJ0biIsInJlbW92ZUJ0biIsImZvY3VzIiwiY2xvc2UiLCJyZW1vdmUiLCJwcmV2ZW50RGVmYXVsdCIsInRyaW0iLCJzZXRGZWF0dXJlZEltYWdlIiwiX3JlZjMiLCJfY2FsbGVlMyIsIl9jb250ZXh0MyIsImZvckVhY2giLCJfeDAiLCJfeDEiLCJtb3ZlSW1hZ2VVcCIsIl9yZWY0IiwiX2NhbGxlZTQiLCJpbmRleCIsInRlbXAiLCJfY29udGV4dDQiLCJmaW5kSW5kZXgiLCJfeDEwIiwiX3gxMSIsIm1vdmVJbWFnZURvd24iLCJfcmVmNSIsIl9jYWxsZWU1IiwiX2NvbnRleHQ1IiwiX3gxMiIsIl94MTMiLCJyZW1vdmVJbWFnZSIsIl9yZWY2IiwiX2NhbGxlZTYiLCJpbWFnZVRvUmVtb3ZlIiwicmVnaXN0cnkiLCJzdGlsbEluVXNlIiwic2hvdWxkRGVsZXRlIiwiX2NvbnRleHQ2IiwiZmlsdGVyIiwic29tZSIsIl94MTQiLCJfeDE1IiwiaW1hZ2VDYXJkcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJkcmFnZ2VkRWxlbWVudCIsImNhcmQiLCJjbGFzc0xpc3QiLCJhZGQiLCJhZnRlckVsZW1lbnQiLCJnZXREcmFnQWZ0ZXJFbGVtZW50IiwicGFyZW50RWxlbWVudCIsImNsaWVudFkiLCJpbnNlcnRCZWZvcmUiLCJfcmVmNyIsIl9jYWxsZWU3IiwiX2NvbnRleHQ3IiwicmVvcmRlckltYWdlc0FmdGVyRHJhZyIsIl94MTYiLCJjb250YWluZXIiLCJkcmFnZ2FibGVFbGVtZW50cyIsInJlZHVjZSIsImNsb3Nlc3QiLCJjaGlsZCIsImJveCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIm9mZnNldCIsInRvcCIsImhlaWdodCIsImVsZW1lbnQiLCJOdW1iZXIiLCJORUdBVElWRV9JTkZJTklUWSIsIl94MTciLCJfcmVvcmRlckltYWdlc0FmdGVyRHJhZyIsIl9jYWxsZWUxMCIsIm5ld09yZGVyIiwiX2NvbnRleHQxMCIsIkFycmF5IiwiZnJvbSIsImRhdGFzZXQiLCJzdGF0dXNEaXYiLCJ0ZXh0Q29udGVudCIsInNldFRpbWVvdXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/helpers/imageGallery.js\n\n}");

/***/ }),

/***/ "./src/helpers/imageOptimizer.js":
/*!***************************************!*\
  !*** ./src/helpers/imageOptimizer.js ***!
  \***************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IMAGE_PRESETS: () => (/* binding */ IMAGE_PRESETS),\n/* harmony export */   optimizeImage: () => (/* binding */ optimizeImage)\n/* harmony export */ });\nfunction _regenerator() { /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */ var e, t, r = \"function\" == typeof Symbol ? Symbol : {}, n = r.iterator || \"@@iterator\", o = r.toStringTag || \"@@toStringTag\"; function i(r, n, o, i) { var c = n && n.prototype instanceof Generator ? n : Generator, u = Object.create(c.prototype); return _regeneratorDefine2(u, \"_invoke\", function (r, n, o) { var i, c, u, f = 0, p = o || [], y = !1, G = { p: 0, n: 0, v: e, a: d, f: d.bind(e, 4), d: function d(t, r) { return i = t, c = 0, u = e, G.n = r, a; } }; function d(r, n) { for (c = r, u = n, t = 0; !y && f && !o && t < p.length; t++) { var o, i = p[t], d = G.p, l = i[2]; r > 3 ? (o = l === n) && (u = i[(c = i[4]) ? 5 : (c = 3, 3)], i[4] = i[5] = e) : i[0] <= d && ((o = r < 2 && d < i[1]) ? (c = 0, G.v = n, G.n = i[1]) : d < l && (o = r < 3 || i[0] > n || n > l) && (i[4] = r, i[5] = n, G.n = l, c = 0)); } if (o || r > 1) return a; throw y = !0, n; } return function (o, p, l) { if (f > 1) throw TypeError(\"Generator is already running\"); for (y && 1 === p && d(p, l), c = p, u = l; (t = c < 2 ? e : u) || !y;) { i || (c ? c < 3 ? (c > 1 && (G.n = -1), d(c, u)) : G.n = u : G.v = u); try { if (f = 2, i) { if (c || (o = \"next\"), t = i[o]) { if (!(t = t.call(i, u))) throw TypeError(\"iterator result is not an object\"); if (!t.done) return t; u = t.value, c < 2 && (c = 0); } else 1 === c && (t = i[\"return\"]) && t.call(i), c < 2 && (u = TypeError(\"The iterator does not provide a '\" + o + \"' method\"), c = 1); i = e; } else if ((t = (y = G.n < 0) ? u : r.call(n, G)) !== a) break; } catch (t) { i = e, c = 1, u = t; } finally { f = 1; } } return { value: t, done: y }; }; }(r, o, i), !0), u; } var a = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} t = Object.getPrototypeOf; var c = [][n] ? t(t([][n]())) : (_regeneratorDefine2(t = {}, n, function () { return this; }), t), u = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(c); function f(e) { return Object.setPrototypeOf ? Object.setPrototypeOf(e, GeneratorFunctionPrototype) : (e.__proto__ = GeneratorFunctionPrototype, _regeneratorDefine2(e, o, \"GeneratorFunction\")), e.prototype = Object.create(u), e; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, _regeneratorDefine2(u, \"constructor\", GeneratorFunctionPrototype), _regeneratorDefine2(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = \"GeneratorFunction\", _regeneratorDefine2(GeneratorFunctionPrototype, o, \"GeneratorFunction\"), _regeneratorDefine2(u), _regeneratorDefine2(u, o, \"Generator\"), _regeneratorDefine2(u, n, function () { return this; }), _regeneratorDefine2(u, \"toString\", function () { return \"[object Generator]\"; }), (_regenerator = function _regenerator() { return { w: i, m: f }; })(); }\nfunction _regeneratorDefine2(e, r, n, t) { var i = Object.defineProperty; try { i({}, \"\", {}); } catch (e) { i = 0; } _regeneratorDefine2 = function _regeneratorDefine(e, r, n, t) { function o(r, n) { _regeneratorDefine2(e, r, function (e) { return this._invoke(r, n, e); }); } r ? i ? i(e, r, { value: n, enumerable: !t, configurable: !t, writable: !t }) : e[r] = n : (o(\"next\", 0), o(\"throw\", 1), o(\"return\", 2)); }, _regeneratorDefine2(e, r, n, t); }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n); } _next(void 0); }); }; }\n/**\n * Optimize image before uploading to Cloudinary\n * @param {File} file - Original image file\n * @param {Object} options - Resize options\n * @returns {Promise<Blob>} - Optimized image blob\n */\nfunction optimizeImage(_x) {\n  return _optimizeImage.apply(this, arguments);\n}\n\n/**\n * Get recommended optimization settings for different image types\n */\nfunction _optimizeImage() {\n  _optimizeImage = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee(file) {\n    var options,\n      _options$maxWidth,\n      maxWidth,\n      _options$maxHeight,\n      maxHeight,\n      _options$quality,\n      quality,\n      _options$format,\n      format,\n      _args = arguments;\n    return _regenerator().w(function (_context) {\n      while (1) switch (_context.n) {\n        case 0:\n          options = _args.length > 1 && _args[1] !== undefined ? _args[1] : {};\n          _options$maxWidth = options.maxWidth, maxWidth = _options$maxWidth === void 0 ? 1600 : _options$maxWidth, _options$maxHeight = options.maxHeight, maxHeight = _options$maxHeight === void 0 ? 1600 : _options$maxHeight, _options$quality = options.quality, quality = _options$quality === void 0 ? 0.85 : _options$quality, _options$format = options.format, format = _options$format === void 0 ? 'image/jpeg' : _options$format;\n          return _context.a(2, new Promise(function (resolve, reject) {\n            var reader = new FileReader();\n            reader.onload = function (e) {\n              var img = new Image();\n              img.onload = function () {\n                // Calculate new dimensions (maintain aspect ratio)\n                var width = img.width;\n                var height = img.height;\n                if (width > maxWidth || height > maxHeight) {\n                  var ratio = Math.min(maxWidth / width, maxHeight / height);\n                  width = Math.round(width * ratio);\n                  height = Math.round(height * ratio);\n                }\n\n                // Create canvas\n                var canvas = document.createElement('canvas');\n                canvas.width = width;\n                canvas.height = height;\n\n                // Draw resized image\n                var ctx = canvas.getContext('2d');\n                ctx.imageSmoothingEnabled = true;\n                ctx.imageSmoothingQuality = 'high';\n                ctx.drawImage(img, 0, 0, width, height);\n\n                // Convert to blob\n                canvas.toBlob(function (blob) {\n                  if (blob) {\n                    console.log(\"\\u2705 Optimized: \".concat((file.size / 1024).toFixed(0), \"KB \\u2192 \").concat((blob.size / 1024).toFixed(0), \"KB\"));\n                    resolve(blob);\n                  } else {\n                    reject(new Error('Failed to optimize image'));\n                  }\n                }, format, quality);\n              };\n              img.onerror = function () {\n                return reject(new Error('Failed to load image'));\n              };\n              img.src = e.target.result;\n            };\n            reader.onerror = function () {\n              return reject(new Error('Failed to read file'));\n            };\n            reader.readAsDataURL(file);\n          }));\n      }\n    }, _callee);\n  }));\n  return _optimizeImage.apply(this, arguments);\n}\nvar IMAGE_PRESETS = {\n  avatar: {\n    maxWidth: 400,\n    maxHeight: 400,\n    quality: 0.90,\n    format: 'image/jpeg'\n  },\n  recipeHero: {\n    maxWidth: 1600,\n    maxHeight: 1600,\n    quality: 0.85,\n    format: 'image/jpeg'\n  },\n  recipeThumbnail: {\n    maxWidth: 800,\n    maxHeight: 800,\n    quality: 0.80,\n    format: 'image/jpeg'\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TUFBTSxDQUFDK0IsYUFBYSxDQUFDN0MsSUFBSSxDQUFDO1VBQzVCLENBQUMsQ0FBQztNQUFBO0lBQUEsR0FBQUQsT0FBQTtFQUFBLENBQ0g7RUFBQSxPQUFBRCxjQUFBLENBQUFMLEtBQUEsT0FBQUQsU0FBQTtBQUFBO0FBS00sSUFBTXNELGFBQWEsR0FBRztFQUMzQkMsTUFBTSxFQUFFO0lBQ041QyxRQUFRLEVBQUUsR0FBRztJQUNiRSxTQUFTLEVBQUUsR0FBRztJQUNkRSxPQUFPLEVBQUUsSUFBSTtJQUNiRSxNQUFNLEVBQUU7RUFDVixDQUFDO0VBQ0R1QyxVQUFVLEVBQUU7SUFDVjdDLFFBQVEsRUFBRSxJQUFJO0lBQ2RFLFNBQVMsRUFBRSxJQUFJO0lBQ2ZFLE9BQU8sRUFBRSxJQUFJO0lBQ2JFLE1BQU0sRUFBRTtFQUNWLENBQUM7RUFDRHdDLGVBQWUsRUFBRTtJQUNmOUMsUUFBUSxFQUFFLEdBQUc7SUFDYkUsU0FBUyxFQUFFLEdBQUc7SUFDZEUsT0FBTyxFQUFFLElBQUk7SUFDYkUsTUFBTSxFQUFFO0VBQ1Y7QUFDRixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVjaXBlLW1lLXdlYnBhY2s1Ly4vc3JjL2hlbHBlcnMvaW1hZ2VPcHRpbWl6ZXIuanM/ZDU5YiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIE9wdGltaXplIGltYWdlIGJlZm9yZSB1cGxvYWRpbmcgdG8gQ2xvdWRpbmFyeVxuICogQHBhcmFtIHtGaWxlfSBmaWxlIC0gT3JpZ2luYWwgaW1hZ2UgZmlsZVxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBSZXNpemUgb3B0aW9uc1xuICogQHJldHVybnMge1Byb21pc2U8QmxvYj59IC0gT3B0aW1pemVkIGltYWdlIGJsb2JcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG9wdGltaXplSW1hZ2UoZmlsZSwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBtYXhXaWR0aCA9IDE2MDAsXG4gICAgbWF4SGVpZ2h0ID0gMTYwMCxcbiAgICBxdWFsaXR5ID0gMC44NSxcbiAgICBmb3JtYXQgPSAnaW1hZ2UvanBlZydcbiAgfSA9IG9wdGlvbnM7XG5cbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgIFxuICAgIHJlYWRlci5vbmxvYWQgPSAoZSkgPT4ge1xuICAgICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgICBcbiAgICAgIGltZy5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgIC8vIENhbGN1bGF0ZSBuZXcgZGltZW5zaW9ucyAobWFpbnRhaW4gYXNwZWN0IHJhdGlvKVxuICAgICAgICBsZXQgd2lkdGggPSBpbWcud2lkdGg7XG4gICAgICAgIGxldCBoZWlnaHQgPSBpbWcuaGVpZ2h0O1xuICAgICAgICBcbiAgICAgICAgaWYgKHdpZHRoID4gbWF4V2lkdGggfHwgaGVpZ2h0ID4gbWF4SGVpZ2h0KSB7XG4gICAgICAgICAgY29uc3QgcmF0aW8gPSBNYXRoLm1pbihtYXhXaWR0aCAvIHdpZHRoLCBtYXhIZWlnaHQgLyBoZWlnaHQpO1xuICAgICAgICAgIHdpZHRoID0gTWF0aC5yb3VuZCh3aWR0aCAqIHJhdGlvKTtcbiAgICAgICAgICBoZWlnaHQgPSBNYXRoLnJvdW5kKGhlaWdodCAqIHJhdGlvKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gQ3JlYXRlIGNhbnZhc1xuICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIFxuICAgICAgICAvLyBEcmF3IHJlc2l6ZWQgaW1hZ2VcbiAgICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIGN0eC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSB0cnVlO1xuICAgICAgICBjdHguaW1hZ2VTbW9vdGhpbmdRdWFsaXR5ID0gJ2hpZ2gnO1xuICAgICAgICBjdHguZHJhd0ltYWdlKGltZywgMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgIFxuICAgICAgICAvLyBDb252ZXJ0IHRvIGJsb2JcbiAgICAgICAgY2FudmFzLnRvQmxvYihcbiAgICAgICAgICAoYmxvYikgPT4ge1xuICAgICAgICAgICAgaWYgKGJsb2IpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coYOKchSBPcHRpbWl6ZWQ6ICR7KGZpbGUuc2l6ZSAvIDEwMjQpLnRvRml4ZWQoMCl9S0Ig4oaSICR7KGJsb2Iuc2l6ZSAvIDEwMjQpLnRvRml4ZWQoMCl9S0JgKTtcbiAgICAgICAgICAgICAgcmVzb2x2ZShibG9iKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ0ZhaWxlZCB0byBvcHRpbWl6ZSBpbWFnZScpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGZvcm1hdCxcbiAgICAgICAgICBxdWFsaXR5XG4gICAgICAgICk7XG4gICAgICB9O1xuICAgICAgXG4gICAgICBpbWcub25lcnJvciA9ICgpID0+IHJlamVjdChuZXcgRXJyb3IoJ0ZhaWxlZCB0byBsb2FkIGltYWdlJykpO1xuICAgICAgaW1nLnNyYyA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICB9O1xuICAgIFxuICAgIHJlYWRlci5vbmVycm9yID0gKCkgPT4gcmVqZWN0KG5ldyBFcnJvcignRmFpbGVkIHRvIHJlYWQgZmlsZScpKTtcbiAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcbiAgfSk7XG59XG5cbi8qKlxuICogR2V0IHJlY29tbWVuZGVkIG9wdGltaXphdGlvbiBzZXR0aW5ncyBmb3IgZGlmZmVyZW50IGltYWdlIHR5cGVzXG4gKi9cbmV4cG9ydCBjb25zdCBJTUFHRV9QUkVTRVRTID0ge1xuICBhdmF0YXI6IHtcbiAgICBtYXhXaWR0aDogNDAwLFxuICAgIG1heEhlaWdodDogNDAwLFxuICAgIHF1YWxpdHk6IDAuOTAsXG4gICAgZm9ybWF0OiAnaW1hZ2UvanBlZydcbiAgfSxcbiAgcmVjaXBlSGVybzoge1xuICAgIG1heFdpZHRoOiAxNjAwLFxuICAgIG1heEhlaWdodDogMTYwMCxcbiAgICBxdWFsaXR5OiAwLjg1LFxuICAgIGZvcm1hdDogJ2ltYWdlL2pwZWcnXG4gIH0sXG4gIHJlY2lwZVRodW1ibmFpbDoge1xuICAgIG1heFdpZHRoOiA4MDAsXG4gICAgbWF4SGVpZ2h0OiA4MDAsXG4gICAgcXVhbGl0eTogMC44MCxcbiAgICBmb3JtYXQ6ICdpbWFnZS9qcGVnJ1xuICB9XG59OyJdLCJuYW1lcyI6WyJlIiwidCIsInIiLCJTeW1ib2wiLCJuIiwiaXRlcmF0b3IiLCJvIiwidG9TdHJpbmdUYWciLCJpIiwiYyIsInByb3RvdHlwZSIsIkdlbmVyYXRvciIsInUiLCJPYmplY3QiLCJjcmVhdGUiLCJfcmVnZW5lcmF0b3JEZWZpbmUyIiwiZiIsInAiLCJ5IiwiRyIsInYiLCJhIiwiZCIsImJpbmQiLCJsZW5ndGgiLCJsIiwiVHlwZUVycm9yIiwiY2FsbCIsImRvbmUiLCJ2YWx1ZSIsIkdlbmVyYXRvckZ1bmN0aW9uIiwiR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUiLCJnZXRQcm90b3R5cGVPZiIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiZGlzcGxheU5hbWUiLCJfcmVnZW5lcmF0b3IiLCJ3IiwibSIsImRlZmluZVByb3BlcnR5IiwiX3JlZ2VuZXJhdG9yRGVmaW5lIiwiX2ludm9rZSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImFzeW5jR2VuZXJhdG9yU3RlcCIsIlByb21pc2UiLCJyZXNvbHZlIiwidGhlbiIsIl9hc3luY1RvR2VuZXJhdG9yIiwiYXJndW1lbnRzIiwiYXBwbHkiLCJfbmV4dCIsIl90aHJvdyIsIm9wdGltaXplSW1hZ2UiLCJfeCIsIl9vcHRpbWl6ZUltYWdlIiwiX2NhbGxlZSIsImZpbGUiLCJvcHRpb25zIiwiX29wdGlvbnMkbWF4V2lkdGgiLCJtYXhXaWR0aCIsIl9vcHRpb25zJG1heEhlaWdodCIsIm1heEhlaWdodCIsIl9vcHRpb25zJHF1YWxpdHkiLCJxdWFsaXR5IiwiX29wdGlvbnMkZm9ybWF0IiwiZm9ybWF0IiwiX2FyZ3MiLCJfY29udGV4dCIsInVuZGVmaW5lZCIsInJlamVjdCIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJvbmxvYWQiLCJpbWciLCJJbWFnZSIsIndpZHRoIiwiaGVpZ2h0IiwicmF0aW8iLCJNYXRoIiwibWluIiwicm91bmQiLCJjYW52YXMiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjdHgiLCJnZXRDb250ZXh0IiwiaW1hZ2VTbW9vdGhpbmdFbmFibGVkIiwiaW1hZ2VTbW9vdGhpbmdRdWFsaXR5IiwiZHJhd0ltYWdlIiwidG9CbG9iIiwiYmxvYiIsImNvbnNvbGUiLCJsb2ciLCJjb25jYXQiLCJzaXplIiwidG9GaXhlZCIsIkVycm9yIiwib25lcnJvciIsInNyYyIsInRhcmdldCIsInJlc3VsdCIsInJlYWRBc0RhdGFVUkwiLCJJTUFHRV9QUkVTRVRTIiwiYXZhdGFyIiwicmVjaXBlSGVybyIsInJlY2lwZVRodW1ibmFpbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/helpers/imageOptimizer.js\n\n}");

/***/ })

};
