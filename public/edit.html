<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"
        integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://fonts.googleapis.com">
  
    <link href="https://fonts.googleapis.com/css2?family=Abril+Fatface&family=Fugaz+One&family=Lato:wght@300;400;700&family=Monsieur+La+Doulaise&family=Parisienne&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,600;1,700;1,800;1,900&family=Source+Sans+Pro:ital,wght@0,400;0,600;0,700;0,900;1,400&display=swap" rel="stylesheet">

 
    <script src="https://kit.fontawesome.com/610bdb1969.js" crossorigin="anonymous"></script>
<link href="./scripts/index.css" rel="stylesheet" media="screen" />
<link href="./scripts/edit.css" rel="stylesheet" media="screen" />



    <title>Recipe App - Edit</title>
</head>

<body class="edit-page">
    <div class="page-container">
        <div class="content-wrap">
            <header class="">
                <div class="header-top">
                    <h1 class="site__title"><a href="/">Recipe Me</a></h1>
                     <div id="auth-buttons">
                        <button id="login-btn" style="display: none;">Login</button>
                        <div id="user-info" style="display: none;">
                            <span id="user-name"></span>
                            <button id="logout-btn">Logout</button>
                        </div>
                    </div>
                    <a href="#" id="menu-toggle" aria-expanded="false" aria-controls="nav" class="menu-toggle"
                        aria-label="Open the menu">
                        <i class="fa fa-bars" aria-hidden="true"></i>
                    </a>

                </div>
                <nav id="nav" class="hide">
                    <ul>
                        <li>
                            <a tabindex="-1" href="/index.html">Home</a>
                        </li>
                        <li>
                            <a tabindex="-1" href="#" id="update-one">Update Database</a>
                        </li>
                       
                    </ul>
                </nav>
              
                         
            </header>
            <div class="heading-h2-container edit-header">
                    <div class="edit-header__actions">
                        <!-- Status Toggle Button -->
                        <button id="statusToggle" class="status-toggle" data-published="false">
                            <span class="status-icon">
                                <i class="fa-solid fa-eye-slash"></i>
                            </span>
                            <span class="status-text">Unpublished</span>
                        </button>
                        
                        <button id="preview-recipe-btn" class="action-btn preview-btn">
                            <i class="fa-solid fa-eye"></i>
                            <span>Preview</span>
                        </button>
                        
                        <button id="save-button" class="action-btn save-btn">
                            <i class="fa-solid fa-floppy-disk"></i>
                            <span>Save</span>
                        </button>
                        
                        <button id="remove-recipe" class="action-btn delete-btn">
                            <i class="fa-solid fa-trash"></i>
                            <span>Delete</span>
                        </button>
                    </div>
            </div>
            <div class="container">
                <div class="former form">
                    <h2><span id="heading-name" class=""><!-- Recipe Name --></span></h2>
                    <div class="edit-form-list">
                        <div class="section-1">
                            <div class="form-group">
                                <label for="recipe-name" id="recipe-name-label">
                                <div>Name</div> </label>
                                <input id="recipe-name" class="input" type="text"
                                placeholder="Recipe Name" name="text" value="">
                            </div>
                            <div class="form-group">
                                <label for="recipe-description">
                                <div>Description</div></label>
                                <textarea id="recipe-description"
                                    placeholder="Recipe Description"></textarea>
                            </div>
               
                            <!-- UPDATED: Image selection with Cloudinary upload + Unsplash search -->
                           <!-- Image Gallery Management -->
<div class="form-group">
    <label>Recipe Images</label>
    
    <!-- Upload/Search Section -->
    <div class="image-upload-section">
        <!-- Cloudinary Upload -->
        <div class="upload-option">
            <h3>Upload Your Photo</h3>
            <label for="cloudinary-upload" class="upload-button">
                <i class="fa-solid fa-cloud-arrow-up"></i>
                Add Image
            </label>
            <input 
                type="file" 
                id="cloudinary-upload" 
                accept="image/*"
                style="display: none;"
            />
            <div id="upload-status"></div>
        </div>
        
        <div class="upload-divider">
            <span>OR</span>
        </div>
        
        <!-- Unsplash Search -->
        <div class="search-option">
            <h3>Search Stock Photos</h3>
            <fieldset id="image" class="feature-image">
                <input id="feature-keyword" placeholder="Search for a photo">
                <button class="feature-image" id="feature-image-button" type="button">
                    <i class="fa fa-solid fa-magnifying-glass"></i>
                </button>
            </fieldset>
        </div>
    </div>
    
    <!-- Image Gallery (sortable list) -->
    <div id="image-gallery" class="image-gallery">
        <p class="no-images" style="display: none;">No images yet. Upload or search to add images.</p>
        <!-- Images will be rendered here -->
    </div>
</div>

<!-- Unsplash Modal (keep existing) -->
<dialog id="select-images" class="modal-dialog image-dialog" closedBy="any">
    <div class="carousel">
        <ul class="carousel-track">
        <!-- Unsplash images -->
        </ul>
    </div>
</dialog>
                             
<!-- EXISTING: Unsplash modal -->
<dialog id="select-images" class="modal-dialog image-dialog" closedBy="any">
    <div class="carousel">
        <!-- <button class="arrow left" aria-label="Previous">&#9664;</button> -->
        <ul class="carousel-track">
        <!-- Unsplash images -->
        </ul>
        <!-- <button class="arrow right" aria-label="Next">&#9654;</button> -->
    </div>
</dialog>
                        <!-- Video Section -->
                        <div class="form-group video-section">
                        <details>
                            <summary>
                                <label>Recipe Video (Optional)</label>
                            </summary>
                       
                            <div class="video-helper-card">
                                <div class="video-icon">ðŸ“¹</div>
                                
                                <div class="video-content">
                                <h4>Add a Recipe Video</h4>
                                
                                <div class="video-benefits">
                                    <p><strong>Why use YouTube?</strong></p>
                                    <ul>
                                    <li>âœ… Free unlimited storage</li>
                                    <li>âœ… You keep copyright and ad revenue</li>
                                    <li>âœ… Build your audience</li>
                                    <li>âœ… Professional video player</li>
                                    </ul>
                                </div>
                                
                                <div class="video-instructions">
                                    <p><strong>How to add a video:</strong></p>
                                    <ol>
                                    <li>Record your recipe video</li>
                                    <li>Upload to <a href="https://youtube.com/upload" target="_blank" rel="noopener">YouTube</a> or <a href="https://vimeo.com/upload" target="_blank" rel="noopener">Vimeo</a></li>
                                    <li>Copy the video link</li>
                                    <li>Paste it anywhere in your article below</li>
                                    </ol>
                                    <p class="note">ðŸ’¡ <strong>Pro tip:</strong> Just paste the URL in your article text. It will automatically become an embedded video!</p>
                                </div>
                                
                                <div class="video-quick-add">
                                    <label for="quick-video-url">Quick Add Video:</label>
                                    <div class="video-input-group">
                                    <input 
                                        type="url" 
                                        id="quick-video-url" 
                                        placeholder="https://youtube.com/watch?v=..." 
                                        class="video-url-input"
                                    />
                                    <button 
                                        type="button" 
                                        id="add-video-btn" 
                                        class="btn-add-video"
                                    >
                                        <i class="fa-solid fa-plus"></i> Add to Article
                                    </button>
                                    </div>
                                    <small>Supports YouTube and Vimeo links</small>
                                </div>
                                </div>
                            </div>
                        </details>   
                       
                        </div>
                        <!-- end video -->
                            <div class="form-group">
                                 <div id="article">
                                <div>Article</div>
                                <div id="editor"></div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="recipe-author">
                                    <div>Author Display Name</div>
                                </label>
                                <input id="recipe-author" class="input" type="text"
                                    placeholder="Chef Smith" name="text" value="">
                            </div>
                            <div class="form-group cols-2">
                                <div class="form-group">
                                <label for="recipe-prep-time">
                                    <div>Prep Time</div>
                                </label>
                                <input id="recipe-prep-time" class="input" type="text" placeholder="20 minutes">
                            </div>

                            <div class="form-group">
                                <label for="recipe-total-time">
                                    <div>Total Time</div>
                                </label>
                                <input id="recipe-total-time" class="input" type="text" placeholder="1.5 hours">
                            </div>
                            </div>
                            
                            
                           
                        <div class="form-group" id="tags">
                            <h2 class="tags">Tags</h2>
                            
                            <!-- Input for adding tags -->
                            <input type="text" id="tag-input" placeholder="Type a tag and press Enter">
                            
                            <!-- Container where pills will appear -->
                            <div id="tags-container" class="tags-container"></div>
                        </div>

                        <div class="form-group checklist">
                            <h2>Categories</h2>
                            <ul>
                                <li>
                                    <div class="form-group"><label class="checkbox" for="drinks">Drinks</label><input type="checkbox" name="category" id="drinks"></div>
                                    </li>
                                <li>
                                    <div class="form-group">
                                        <label class="checkbox"  for="desserts">Desserts</label><input type="checkbox" name="category" id="desserts" value="desserts">
                                    </div></li>
                                <li><div class="form-group">
                                    <label class="checkbox"  for="appetizers">Appetizers</label><input  type="checkbox" name="category" id="appetizers" value="appetizers">
                                </div></li>
                                <li><div class="form-group"><label class="checkbox"  for="meals">Meals</label><input type="checkbox" name="category" id="meals" value="meals"></div></li>
                                <li><div class="form-group"><label class="checkbox"  for="breakfast">Breakfast</label><input type="checkbox" name="category" id="breakfast" value="breakfast"></div></li>
                                <li><div class="form-group"><label class="checkbox"  for="lunch">Lunch</label><input type="checkbox" name="category" id="lunch"></div></li>
                                <li><div class="form-group"><label class="checkbox"  for="dinner">Dinner</label><input type="checkbox" name="category" id="dinner" value="dinner"></div></li>
                            </ul>
                        </div>
                        </div>
                         <div class="form-group">
                                    <article>
                                      <header>
                                           <h2 class="header__title">Directions</h2>
                                    </header>

                                    <ol id="directions-list" class="directions">

                                    </ol>
                                    <div id="add-container"><a id="add-step" href="#"><i class="fa fa-plus"
                                        aria-hidden="true"></i><span class="hide-text">Add another step</span></a>
                                    </div>
                                    </article>
                                    
                            
                                <dialog id="add-directions" class="modal-dialog direction-dialog" closedBy="any">
                                    Edit or add step:
                                        <textarea placeholder="Start by preheating the oven to 350 degrees fahrenheit." id="enter-next-step"></textarea>
                                        <div class="button__footer">
                                            <button class="dialog-close-button">Finished</button>
                                        </div>
                                </dialog>
                              </div>   
                        <!-- Ingredient Modal -->
                        <dialog id="ingredient-modal"  class="modal-dialog ingredient-modal" closedBy="any">
                            <ul id="ingredient">
                                <li><label><div>Name:</div> <input  id="name"  /></label></li>
                                <li><label><div>Description:</div> <input id="description"  /></label></li>
                                <li><label><div>Amount:</div> <input id="amount" /></label></li>
                                <li><label><div>Unit:</div> <input id="unit" /></label></li>
                                <li><label><div>Measure Word (Optional):</div> <input id="measureWord" placeholder="i.e. a splash, a pinch, a dollop"  /></label></li>                          
                                <div class="button__footer">
                                    <button class="close-ingredient-modal" id="close-ingredient-modal">Close</button>
                                </div>
                                </ul>
                        </dialog>

                        <div class="form-group">                        
                        <article id="recipe" class="article__recipe">
                            <header id="recipe-header">
                                <h2 class="header__title">Recipe</h2>
                            </header>
                           
                            <ul class="recipe recipe-list">
                            </ul>
                             
                             <footer class="edit-form-ingredient-footer">
                                    <div>
                                        <button id="add-an-ingredient"><i class="fa fa-plus" aria-hidden="true"></i> Add an Ingredient
                                        </button>
                                    </div>
                                   
                             </footer>
                        </article>
                        <div id="ingredients" class="edit-ingredients">
                            <!-- Dynamically list ingredients with js-->
                        </div>
                        </div>
                    </div>
            </div>     
                <!--container-->     
            </div>
            

  
            </div>
            <dialog id="preview-dialog" class="preview-dialog" closedBy="any">
                <div id="preview-content"></div>
                <button id="close-preview">Close Preview</button>
            </dialog>
            <footer class="page-footer">
                <p>Â© Caleb Hamilton 2022 - current revisions underway 2025</p>
            </footer>
            <!-- page container-->
        </div>

        <script type="module" src="./scripts/edit-bundle.js"></script>
    </div>
 </body>

</html>